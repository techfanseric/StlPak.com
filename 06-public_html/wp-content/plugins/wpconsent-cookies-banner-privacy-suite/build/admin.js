(()=>{var e={342:()=>{jQuery(document).ready((e=>{const t=e(".wpconsent-floating-button-preview"),n=e("#consent_floating_icon"),i=e(".wpconsent-floating-button-grid");e("#banner_background_color").on("irischange",(function(e,t){i.css("--wpconsent-floating-button-bg",t.color.toString())})),e("#banner_text_color").on("irischange",(function(e,t){const n=t.color.toString();i.css("--wpconsent-floating-button-color",n),i.find("svg path").attr("fill",n)})),t.on("click",(function(i){const s=e(this);if("custom"===s.data("icon")){i.preventDefault(),i.stopPropagation();const e=wp.media({title:"Select Icon Image",button:{text:"Select"},multiple:!1});e.on("select",(function(){const i=e.state().get("selection").first().toJSON();s.find("img").remove(),s.append(`<img src="${i.url}" alt="">`),t.removeClass("selected"),s.addClass("selected has-image"),n.val(i.url)})),e.open()}else t.removeClass("selected"),s.addClass("selected"),n.val(s.data("icon"))}));const s=n.val();s?s.startsWith("http://")||s.startsWith("https://")?e("#floating-icon-custom").addClass("selected has-image"):e(`#floating-icon-${s}`).addClass("selected"):(e("#floating-icon-preferences").addClass("selected"),n.val("preferences"))}))},239:()=>{jQuery(document).ready((function(e){e('.wpconsent-checkbox-toggle input[type="checkbox"]').on("change",(function(){const t=e(this).data("target");if(!t)return;const n=document.getElementById("wpconsent-container").shadowRoot.querySelector(t);e(this).is(":checked")?e(n).show():e(n).hide()})),e('.wpconsent-checkbox-toggle input[type="checkbox"]').each((function(){const t=e(this).data("target");if(!t)return;const n=document.getElementById("wpconsent-container").shadowRoot.querySelector(t);e(this).is(":checked")?e(n).show():e(n).hide()}))}))},469:()=>{jQuery((function(e){e(".wpconsent-colorpicker").each((function(){e(this).wrap('<div class="wpconsent-colorpicker-wrap"></div>'),e(this).before('<div class="wpconsent-color-preview"></div>');const t=e(this).val()||"#ffffff";e(this).siblings(".wpconsent-color-preview").css("background-color",t),e(this).iris({defaultColor:!1,change:function(t,n){e(this).val(n.color.toString()),e(this).siblings(".wpconsent-color-preview").css("background-color",n.color.toString());var i=e(this).data("target"),s=e(this).data("target-property")||"background-color",o=document.getElementById("wpconsent-container").shadowRoot.querySelector(i);e(o).css(s,n.color.toString())},hide:!0,border:!0,palettes:!0})})),e(document).click((function(t){e(t.target).is(".wpconsent-colorpicker, .iris-picker, .iris-picker *")||e(".wpconsent-colorpicker").each((function(){e(this).iris("hide")}))})),e(".wpconsent-colorpicker").click((function(t){t.stopPropagation(),e(".wpconsent-colorpicker").iris("hide"),e(this).iris("show")}))}))},708:()=>{var e;window.WPConsentConfirm=window.WPConsentConfirm||(document,window,e=jQuery,{please_wait:null,show_please_wait(t=wpconsent.please_wait,n=!1){let i='<div class="wpconsent-loading-ring"></div>';return n&&(i+='<div class="wpconsent-progress-container"><div class="wpconsent-progress-bar" style="width: 0%"></div><div class="wpconsent-progress-text">0 of 0</div></div>'),this.please_wait=e.confirm({title:t,closeIcon:!1,content:i,boxWidth:"600px",theme:"modern loader-spinner",buttons:{close:{isHidden:!0}},onOpenBefore:function(){this.buttons.close.hide(),this.$content.parent().addClass("jconfirm-loading")},onClose:function(){this.$content.parent().removeClass("jconfirm-loading")}}),this.please_wait},update_progress(e,t){if(this.please_wait){const n=this.please_wait.$content.find(".wpconsent-progress-bar"),i=this.please_wait.$content.find(".wpconsent-progress-text");if(n.length&&i.length){const s=Math.round(e/t*100);n.css("width",s+"%"),i.text(e+" of "+t)}}},close(){this.please_wait&&this.please_wait.close()}})},961:()=>{class e{constructor(){document.getElementById("wpconsent-modal-add-category")&&(this.addButton=document.getElementById("wpconsent-add-category"),this.modal=new WPConsentModalForm("wpconsent-modal-add-category"),this.bindEvents())}bindEvents(){this.addButton&&this.addButton.addEventListener("click",(()=>this.handleAddCategory())),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-button-enabled-column .wpconsent-edit-category")&&this.handleEditCategory(e)})),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-button-enabled-column .wpconsent-delete-category")&&this.handleDeleteCategory(e)}))}handleAddCategory(){this.modal.open({title:"Add New Category",data:{category_name:"",action:"wpconsent_add_category"},successCallback:e=>{e.success&&this.addCategoryToList(e.data),this.modal.close()}})}handleEditCategory(e){const t=e.target.closest(".wpconsent-button-row"),n=t.dataset.buttonId,i=t.querySelector(".wpconsent-button-label-column").textContent.trim(),s=t.querySelector(".wpconsent-category-description").value.trim();this.modal.open({title:"Edit Category",data:{category_name:i,category_id:n,category_description:s,action:"wpconsent_edit_category"},successCallback:e=>{e.success&&this.updateCategoryInList(e.data),this.modal.close()}})}handleDeleteCategory(e){if(!confirm("Are you sure you want to delete this category?"))return;const t=e.target.closest(".wpconsent-button-row"),n=t.dataset.buttonId,i=new FormData;i.append("action","wpconsent_delete_category"),i.append("category_id",n),i.append("nonce",window.wpconsent.nonce),fetch(ajaxurl,{method:"POST",body:i,credentials:"same-origin"}).then((e=>e.json())).then((e=>{e.success?t.remove():alert("Failed to delete category. Please try again.")})).catch((e=>{console.error("Error deleting category:",e),alert("Failed to delete category. Please try again.")}))}addCategoryToList(e){const t=document.getElementById("wpconsent-new-category-row").innerHTML.replace(/{{id}}/g,e.id).replace(/{{name}}/g,e.name).replace(/{{description}}/g,e.description);document.querySelector(".wpconsent-actions-row").insertAdjacentHTML("beforebegin",t)}updateCategoryInList(e){const t=document.querySelector(`[data-button-id="${e.id}"]`);t.querySelector(".wpconsent-button-label-column").textContent=e.name,t.querySelector(".wpconsent-category-description").value=e.description}}document.addEventListener("DOMContentLoaded",(()=>{new e}))},622:()=>{window.WPConsentCookieManagement=class{constructor(){document.getElementById("wpconsent-modal-add-cookie")&&(this.modal=new WPConsentModalForm("wpconsent-modal-add-cookie"),this.bindEvents()),this.initializeAccordions()}bindEvents(){document.addEventListener("click",(e=>{e.target.closest(".wpconsent-add-cookie")&&this.handleAddCookie(e)})),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-edit-cookie")&&this.handleEditCookie(e)})),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-delete-cookie")&&this.handleDeleteCookie(e)}))}handleAddCookie(e){const t=e.target.closest(".wpconsent-add-cookie").dataset.categoryId;this.updateServicesSelect(t),this.modal.open({title:"Add New Cookie",data:{cookie_name:"",cookie_id:"",cookie_description:"",cookie_service_policy:"",cookie_service:"",category_duration:"",cookie_category:t,action:"wpconsent_manage_cookie"},successCallback:e=>{e.success&&this.addCookieToList(e.data,t),this.modal.close()}})}handleEditCookie(e){const t=e.target.closest(".wpconsent-edit-cookie"),n=t.closest(".wpconsent-cookie-item"),i=n.querySelector(".wpconsent-cookie-id").value,s=n.querySelector(".cookie-name").textContent,o=n.querySelector(".cookie-desc").textContent,r=t.closest(".wpconsent-accordion-item").querySelector(".wpconsent-add-cookie").dataset.categoryId,c=t.dataset.cookieId,a=n.querySelector(".wpconsent-cookie-service"),l=n.querySelector(".cookie-duration").textContent;let h=0;a&&(h=a.value),this.updateServicesSelect(r).then((()=>{this.modal.open({title:"Edit Cookie",data:{cookie_id:i,cookie_name:s,cookie_description:o,cookie_category:r,cookie_service:h,cookie_duration:l,post_id:c,action:"wpconsent_manage_cookie"},successCallback:e=>{e.success&&this.updateCookieInList(e.data),this.modal.close()}})}))}handleDeleteCookie(e){if(!confirm("Are you sure you want to delete this cookie?"))return;const t=e.target.closest(".wpconsent-delete-cookie"),n=t.closest(".wpconsent-cookie-item"),i=t.dataset.cookieId,s=new FormData;s.append("action","wpconsent_delete_cookie"),s.append("cookie_id",i),s.append("nonce",window.wpconsent.nonce),fetch(ajaxurl,{method:"POST",body:s,credentials:"same-origin"}).then((e=>e.json())).then((e=>{e.success?(n.remove(),this.maybe_hide_header()):alert("Failed to delete cookie. Please try again.")})).catch((e=>{console.error("Error deleting cookie:",e),alert("Failed to delete cookie. Please try again.")}))}addCookieToList(e,t){const n=document.querySelector(`.wpconsent-accordion-item [data-category-id="${t}"]`).closest(".wpconsent-accordion-item").querySelector(".wpconsent-cookies-list").querySelector(".wpconsent-cookie-header");let i=null;if(e.service_id){const t=document.querySelector(`.wpconsent-service-item .wpconsent-service-id[value="${e.service_id}"]`);t&&(i=t.closest(".wpconsent-service-item").querySelector(".wpconsent-cookies-list"))}const s=document.getElementById("wpconsent-new-cookie-row").innerHTML.replace(/{{id}}/g,e.id).replace(/{{name}}/g,e.name).replace(/{{description}}/g,e.description).replace(/{{duration}}/g,e.duration).replace(/{{cookie_id}}/g,e.cookie_id);i?i.insertAdjacentHTML("afterend",s):n.insertAdjacentHTML("afterend",s),this.maybe_hide_header();const o=n.closest(".wpconsent-accordion-content");o.style.maxHeight=o.scrollHeight+"px"}updateCookieInList(e){const t=document.querySelector(`.wpconsent-cookie-item .wpconsent-edit-cookie[data-cookie-id="${e.id}"]`).closest(".wpconsent-cookie-item");t&&(t.querySelector(".cookie-name").textContent=e.name,t.querySelector(".cookie-desc").textContent=e.description,t.querySelector(".cookie-duration").textContent=e.duration,t.querySelector(".wpconsent-cookie-id").value=e.cookie_id)}initializeAccordions(){document.querySelectorAll(".wpconsent-accordion").forEach((e=>{e.querySelectorAll(".wpconsent-accordion-item").forEach(((e,t)=>{const n=e.querySelector(".wpconsent-accordion-header"),i=e.querySelector(".wpconsent-accordion-content"),s=e.querySelector(".wpconsent-accordion-toggle"),o=i?i.querySelector(".wpconsent-cookie-header"):null;if(0===t){e.classList.add("active"),i.style.maxHeight=i.scrollHeight+"px";const t=s.querySelector(".dashicons");t.classList.add("dashicons-arrow-up-alt2"),t.classList.remove("dashicons-arrow-down-alt2"),this.maybe_hide_header()}const r=t=>{if(t.target.closest(".wpconsent-button"))return;document.querySelectorAll(".wpconsent-accordion-item").forEach((t=>{if(t!==e){t.classList.remove("active"),t.querySelector(".wpconsent-accordion-content").style.maxHeight=null;const e=t.querySelector(".wpconsent-accordion-toggle .dashicons");e.classList.add("dashicons-arrow-down-alt2"),e.classList.remove("dashicons-arrow-up-alt2")}})),e.classList.toggle("active");const n=s.querySelector(".dashicons");n.classList.toggle("dashicons-arrow-down-alt2"),n.classList.toggle("dashicons-arrow-up-alt2"),e.classList.contains("active")?i.style.maxHeight=i.scrollHeight+"px":i.style.maxHeight=null};n.addEventListener("click",r),o&&o.addEventListener("click",(t=>{e.classList.contains("active")||r(t)}))}))}))}updateServicesSelect(e=null){const t=document.getElementById("cookie_category"),n=document.getElementById("cookie_service");if(!t||!n)return;e&&(t.value=e);const i=new FormData;return i.append("action","wpconsent_get_services"),i.append("category_id",t.value),i.append("nonce",window.wpconsent.nonce),fetch(ajaxurl,{method:"POST",body:i,credentials:"same-origin"}).then((e=>e.json())).then((e=>{e.success&&(n.innerHTML=e.data)})).catch((e=>{console.error("Error updating services select:",e)}))}maybe_hide_header(){document.querySelectorAll(".wpconsent-cookies-list").forEach((e=>{const t=Array.from(e.children).some((e=>e.classList.contains("wpconsent-cookie-item"))),n=e.querySelector(".wpconsent-cookie-header");n&&(n.style.display=t?"grid":"none")}))}},document.addEventListener("DOMContentLoaded",(()=>{new WPConsentCookieManagement}))},50:()=>{jQuery((function(e){const t={init:function(){t.elements=e("[data-show-if-id]"),t.add_listeners()},add_listeners:function(){t.elements.each((function(){const n=e(this),i=n.data("show-if-id");if(""===i)return;let s=!1,o=String(n.data("show-if-value")).split(",");n.data("hide-if-value")&&(o=String(n.data("hide-if-value")).split(","),s=!0);const r=e(i);e(".wpconsent-admin-page #wpbody-content").on("change",i,(function(){t.maybe_hide(e(this),n,o,s)})),t.maybe_hide(r,n,o,s)}))},maybe_hide:function(e,t,n,i){let s=String(e.val());if("checkbox"===e.attr("type")&&(s=e.prop("checked")?"1":"0"),"radio"===e.attr("type")&&(s=e.closest("form").find('input[name="'+e.attr("name")+'"]:checked').val()),i){if(n.indexOf(s)>=0)return void t.hide();t.show()}else n.indexOf(s)<0?t.hide():t.show()}};t.init()}))},7:()=>{jQuery((function(e){e("#wpconsent-create-cookie-policy-page").on("click",(function(t){t.preventDefault();var n=e(this);WPConsentSpinner.show_button_spinner(n);var i={action:"wpconsent_generate_cookie_policy",nonce:wpconsent.nonce};e.post(ajaxurl,i).always((function(){WPConsentSpinner.hide_button_spinner(n)})).success((function(t){if(t.success)try{wpconsent_choices["cookie-policy-page"].setValue([{value:t.data.page_id,label:t.data.page_title,selected:!0}]),e("#cookie-policy-page").trigger("change")}catch(e){console.error(e)}let n={ok:{text:wpconsent.ok,btnClass:"btn-blue"}};t.data.link&&(n.view_page={text:t.data.view_page,btnClass:"btn-blue",action:function(){window.open(t.data.link,"_blank")}}),e.confirm({title:t.data.title,content:t.data.message,type:"blue",buttons:n})}))}))}))},302:()=>{window.WPConsentImportConfirm=window.WPConsentImportConfirm||function(e,t,n){const i={strings:{warning_title:wpconsent.import_warning_title||"Warning: Import Settings",warning_message:wpconsent.import_warning_message||"This action will overwrite all your current settings. This cannot be undone. We recommend exporting your current settings as a backup before proceeding.",import_button:wpconsent.import_button||"Import Settings",cancel_button:wpconsent.cancel_button||"Cancel"},init(){this.bindEvents()},bindEvents(){const e=n('form[action*="wpconsent-cookies"]'),t=e.find('button[name="wpconsent_import"]'),i=n("#wpconsent-import-file");t.on("click",(t=>{t.preventDefault(),i[0].files.length&&this.showConfirmDialog(e)}))},showConfirmDialog(e){n.confirm({title:this.strings.warning_title,content:`\n                        <div class="wpconsent-import-warning">\n                            <p>${this.strings.warning_message}</p>\n                        </div>\n                    `,boxWidth:"600px",theme:"modern",type:"blue",buttons:{import:{text:this.strings.import_button,btnClass:"btn-confirm",action:()=>{const t=n("<input>").attr({type:"hidden",name:"wpconsent_import",value:"1"});e.append(t),e.submit()}},cancel:{text:this.strings.cancel_button,btnClass:""}}})}};return n(e).ready((()=>{i.init()})),i}(document,window,jQuery)},615:()=>{(window.WPConsentInputs||function(e,t,n){const i={init(){n(i.ready)},ready(){i.initCheckbox(),i.initShowHidden(),i.itemToggle(),i.initFileUploads()},initCheckbox(){n(e).on("change",".wpconsent-styled-checkbox input",(function(){var e=n(this);e.prop("checked")?e.parent().addClass("checked"):e.parent().removeClass("checked")}))},initShowHidden(){n(e).on("click",".wpconsent-show-hidden",(function(e){e.preventDefault();const t=n(this).data("target"),i=n(this).data("hide-label");if(n(this).closest(".wpconsent-show-hidden-container").find(t).toggleClass("wpconsent-visible"),i){const e=n(this).text(),t=n(this).data("hide-label");n(this).data("hide-label",e),n(this).text(n(this).text()===e?t:e)}}))},itemToggle(){n(e).on("click",".wpconsent-onboarding-selectable-item",(function(e){if(n(e.target).closest(".wpconsent-onboarding-service-info").length)return;const t=n(this).find('input[type="checkbox"]');t.prop("checked",!t.prop("checked")).trigger("change")}))},initFileUploads(){n(".wpconsent-file-upload").each((function(){const e=n(this).find("input[type=file]"),t=n(this).find("label").find(".placeholder");e.on("change",(function(e){let n="";this.files&&this.files.length>1?n=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(n=e.target.value.split("\\").pop()),n?t.html(n):t.html("No file chosen")})),e.on("focus",(function(){e.addClass("has-focus")})).on("blur",(function(){e.removeClass("has-focus")}))}))}};return i}(document,window,jQuery)).init()},197:()=>{window.WPConsentItemsList||function(e,t,n){const i=function(e){this.container=n(e),this.category="*",this.search_term="",this.categories_list=this.container.find(".wpconsent-items-filters"),this.search_input=this.container.find(".wpconsent-items-search-input"),this.items=this.container.find(".wpconsent-list-item"),this.banner=null,this.init()};i.prototype={init:function(){this.should_init()&&(this.init_category_switch(),this.init_search(),this.show_connect_banner(),this.init_custom_event_handlers())},init_custom_event_handlers(){this.container.on("wpconsent_reset_items",(()=>{this.reset_items()})),this.container.on("wpconsent_select_item",((e,t)=>{this.set_item(t)}))},set_item(e){this.reset_items();const t=this.items.filter((function(){return n(this).data("id")===e}));this.items.removeClass("wpconsent-list-item-selected"),t.addClass("wpconsent-list-item-selected");const i=t.data("categories"),s=i.length>0?i[0]:"*";this.switch_to_category(s);const o=this.categories_list.find(`button[data-category="${s}"]`);this.switch_category_button(o);const r=t.find('input[type="radio"]');r.length>0&&r.prop("checked",!0)},reset_items(){this.search_input.val(""),this.search_term="";const e=this.categories_list.find("button").first();this.switch_to_category(e.data("category")),this.switch_category_button(e)},should_init:function(){return this.categories_list.length>0},init_category_switch:function(){const e=this;this.categories_list.on("click","button",(function(){const t=n(this);t.hasClass("wpconsent-active")||(e.switch_to_category(t.data("category")),e.switch_category_button(t))}))},switch_category_button:function(e){this.categories_list.find("button").removeClass("wpconsent-active"),e.addClass("wpconsent-active")},switch_to_category:function(e){this.category=e,this.filter_items()},filter_items:function(){let e;const t=this,i=this.items.filter((function(){return"*"===t.category||n(this).data("categories").indexOf(t.category)>-1}));if(t.search_term.length>2){const i=t.search_term.toLowerCase();e=this.items.filter((function(){return n(this).text().toLowerCase().indexOf(i)>-1}))}else e=i;t.items.hide(),e.show(),this.update_banner_position()},init_search:function(){const e=this;this.search_input.on("keyup change search",(function(){const t=n(this).val();e.search_term=t.length<3?"":t,e.filter_items()}))},show_connect_banner:function(){const e=n("#tmpl-wpconsent-library-connect-banner");if(!e.length)return;const t=this.container.find(".wpconsent-items-list-category .wpconsent-list-item:visible");t.length>5?t.eq(5).after(e.html()):t.last().after(e.html()),this.banner=this.container.find("#wpconsent-library-connect-banner")},update_banner_position:function(){const e=this.container.find(".wpconsent-items-list-category .wpconsent-list-item:visible");this.banner&&this.banner.length>0&&(e.length>5?this.banner.insertAfter(e.eq(5)):this.banner.insertAfter(e.last()))}},n(e).ready((function(){n(".wpconsent-items-metabox").each((function(){new i(this)}))}))}(document,window,jQuery)},192:()=>{window.WPConsentModalForm=class{constructor(e){this.modal=document.getElementById(e),this.form=this.modal.querySelector("form"),this.closeButton=this.modal.querySelector(".wpconsent-modal-close"),this.cancelButton=this.modal.querySelector(".wpconsent-button-secondary"),this.saveButton=this.modal.querySelector(".wpconsent-button-primary"),this.title=this.modal.querySelector(".wpconsent-modal-header h2"),this.bindEvents()}bindEvents(){this.closeButton.addEventListener("click",(()=>this.close())),this.cancelButton.addEventListener("click",(()=>this.close())),this.form.addEventListener("submit",(e=>this.handleSubmit(e)))}open(e={}){e.title&&(this.title.textContent=e.title),e.data&&this.populateFields(e.data),e.successCallback&&(this.successCallback=e.successCallback),e.errorCallback&&(this.errorCallback=e.errorCallback),this.modal.style.display="block"}close(){this.modal.style.display="none",this.form.reset(),this.submitCallback=null}populateFields(e){Object.keys(e).forEach((t=>{const n=this.form.querySelector(`[name="${t}"]`);n&&("radio"===n.type?this.form.querySelectorAll(`[name="${t}"]`).forEach((n=>{n.checked=n.value===e[t]})):"checkbox"===n.type?n.checked=!!e[t]:n.value=e[t])}))}getFormData(){const e=new FormData(this.form),t={};for(let[n,i]of e.entries())t[n]=i;return t}handleSubmit(e){if(e.preventDefault(),this.isSubmitting)return;this.isSubmitting=!0;const t=this.getFormData();this.saveButton.disabled=!0,jQuery.post(ajaxurl,{...t}).done((e=>{this.successCallback&&this.successCallback(e)})).always((()=>{this.isSubmitting=!1,this.saveButton.disabled=!1})).fail((e=>{this.errorCallback&&this.errorCallback(e)}))}}},209:()=>{(window.WPConsentAdminNotices||function(e,t,n){const i={l10n:wpconsent,init:function(){t.WPConsentAdminNotices=i,i.notice_holder=n(e.getElementById("wpconsent-notice-area")),i.document=n(e),i.addEvents()},add_notice(e,t="updated"){const n=i.get_notice(e,t);i.notice_holder.append(n),i.document.trigger("wp-updates-notice-added"),n.find("button").focus()},get_notice(e,t){const i=n("<div />"),s=n("<p />");return s.html(e),i.addClass("fade notice is-dismissible"),i.addClass(t),i.append(s),i},addEvents(){n(e).on("click",".wpconsent-pro-notice",(function(e){e.preventDefault(),i.show_pro_notice(n(this).data("pro_title"),n(this).data("pro_description"),n(this).data("pro_link"))}))},show_pro_notice(e,s,o,r){const c=i.l10n.lock_icon;n.confirm({title:c+e,content:s,boxWidth:"560px",theme:"modern upsell-box",onOpenBefore(){this.$btnc.after('<div class="wpconsent_check"></div>'),i.l10n.purchased_text&&this.$btnc.after('<div class="wpconsent-already-purchased"><a href=" '+i.l10n.purchased_link+' ">'+i.l10n.purchased_text+"</a></div>"),i.l10n.discount_note&&(this.$btnc.after('<div class="wpconsent-discount-note">'+i.l10n.discount_note+"</div>"),this.$body.find(".jconfirm-content").addClass("wpconsent-lite-upgrade"))},buttons:{confirm:{text:r||i.l10n.upgrade_button,btnClass:"wpconsent-btn-orange",action:function(){t.open(o,"_blank","noopener noreferrer")}}},closeIcon:!0,backgroundDismiss:!0,useBootstrap:!1})}};return i}(document,window,jQuery)).init()},332:()=>{(window.WPConsentAdminNotifications||function(e,t,n){const i={init(){i.should_init()&&(i.find_elements(),i.init_open(),i.init_close(),i.init_dismiss(),i.init_view_switch(),i.update_count(i.active_count))},should_init:()=>(i.$drawer=n("#wpconsent-notifications-drawer"),i.$drawer.length>0),find_elements(){i.$open_button=n("#wpconsent-notifications-button"),i.$count=i.$drawer.find("#wpconsent-notifications-count"),i.$dismissed_count=i.$drawer.find("#wpconsent-notifications-dismissed-count"),i.active_count=i.$open_button.data("count")?i.$open_button.data("count"):0,i.dismissed_count=i.$open_button.data("dismissed"),i.$body=n("body"),i.$dismissed_button=n("#wpconsent-notifications-show-dismissed"),i.$active_button=n("#wpconsent-notifications-show-active"),i.$active_list=n(".wpconsent-notifications-list .wpconsent-notifications-active"),i.$dismissed_list=n(".wpconsent-notifications-list .wpconsent-notifications-dismissed"),i.$dismiss_all=n("#wpconsent-dismiss-all")},update_count(e){i.$open_button.data("count",e).attr("data-count",e),0===e&&i.$open_button.removeAttr("data-count"),i.$count.text(e),i.dismissed_count+=Math.abs(e-i.active_count),i.active_count=e,i.$dismissed_count.text(i.dismissed_count),0===i.active_count&&i.$dismiss_all.hide()},init_open(){i.$open_button.on("click",(function(e){e.preventDefault(),i.$body.addClass("wpconsent-notifications-open")}))},init_close(){i.$body.on("click",".wpconsent-notifications-close, .wpconsent-notifications-overlay",(function(e){e.preventDefault(),i.$body.removeClass("wpconsent-notifications-open")}))},init_dismiss(){i.$drawer.on("click",".wpconsent-notification-dismiss",(function(e){e.preventDefault();const t=n(this).data("id");if(i.dismiss_notification(t),"all"===t)return i.move_to_dismissed(i.$active_list.find("li")),void i.update_count(0);i.move_to_dismissed(n(this).closest("li")),i.update_count(i.active_count-1)}))},move_to_dismissed(e){e.slideUp((function(){n(this).prependTo(i.$dismissed_list).show()}))},dismiss_notification:e=>n.post(ajaxurl,{action:"wpconsent_notification_dismiss",nonce:wpconsent.nonce,id:e}),init_view_switch(){i.$dismissed_button.on("click",(function(e){e.preventDefault(),i.$drawer.addClass("show-dismissed")})),i.$active_button.on("click",(function(e){e.preventDefault(),i.$drawer.removeClass("show-dismissed")}))}};return i}(document,window,jQuery)).init()},759:()=>{window.WPConsentOnboarding=window.WPConsentOnboarding||function(e,t,n){const i={step:1,maxSteps:wpconsent.max_steps,init:function(){i.shouldInit()&&(i.findElements(),i.removeAdminBar(),i.stepButtons(),i.handleRenderingScan(),i.handleAutoConfigure(),i.handleBannerLayout(),i.handleCompleteOnboarding())},shouldInit:function(){return e.querySelector(".wpconsent-admin-page.wpconsent-onboarding")},findElements(){i.body=e.querySelector("body"),i.progressBar=e.querySelector(".wpconsent-onboarding-progress-bar-inner"),i.itemTemplate=e.getElementById("wpconsent-onboarding-selectable-item").innerHTML,i.servicesForm=e.getElementById("wpconsent-onboarding-services")},removeAdminBar:function(){e.documentElement.classList.remove("wp-toolbar")},nextStep(){i.step++,i.updateStep()},prevStep(){i.step--,i.updateStep()},updateStep(){for(let e=1;e<=i.maxSteps;e++)i.body.classList.remove("wpconsent-onboarding-step-"+e);const e=new CustomEvent("wpconsent_onboarding_step_change",{detail:{step:i.step}});t.dispatchEvent(e),i.body.classList.add("wpconsent-onboarding-step-"+i.step),i.updateProgressBar()},updateProgressBar(){const e=i.step/i.maxSteps*100;i.progressBar.style.width=e+"%"},stepButtons(){const t=e.querySelectorAll(".wpconsent-onboarding-next"),n=e.querySelectorAll(".wpconsent-onboarding-prev");t.forEach((function(e){e.addEventListener("click",i.nextStep)})),n.forEach((function(e){e.addEventListener("click",i.prevStep)}))},handleRenderingScan(){n(e).on("wpconsent_after_scan",(function(e,t){i.nextStep();const n=i.servicesForm.querySelector(".wpconsent-onboarding-selectable-list");n.innerHTML="",Object.values(t.data.scripts).forEach((function(e){e.forEach((function(e){i.addItem(e,n)}))}))}))},addItem(t,n){let s=i.itemTemplate.replaceAll("{{name}}",t.name);s=s.replaceAll("{{logo}}",t.logo),s=s.replaceAll("{{description}}",t.description),s=s.replaceAll("{{service}}",t.service);const o=e.createElement("div");o.innerHTML=s,o.firstElementChild.querySelector('input[type="checkbox"]').checked=!0,n.appendChild(o.firstElementChild)},handleAutoConfigure(){n(e).on("submit","#wpconsent-onboarding-services",(function(e){e.preventDefault();const t=n(this).serialize();WPConsentConfirm.show_please_wait(wpconsent.configuring_title),n.post(ajaxurl,t,(function(e){WPConsentConfirm.close(),e.success&&i.nextStep()}))}))},handleBannerLayout(){n(e).on("submit","#wpconsent-onboarding-banner-layout",(function(e){e.preventDefault();const i=n(this).serialize();WPConsentConfirm.show_please_wait(wpconsent.banner_title),n.post(ajaxurl,i,(function(e){WPConsentConfirm.close(),e.success&&(t.location.href=e.data.redirect)}))}))},handleCompleteOnboarding(){n(e).on("click",".wpconsent-complete-onboarding",(function(e){e.preventDefault(),WPConsentConfirm.show_please_wait(wpconsent.completing_title),n.post(ajaxurl,{action:"wpconsent_complete_onboarding",nonce:wpconsent.nonce},(function(e){WPConsentConfirm.close(),e.success&&(t.location.href=e.data.redirect)}))}))}};return i}(document,window,jQuery),WPConsentOnboarding.init()},254:()=>{window.WPConsentScanner=window.WPConsentScanner||function(e,t,n){const i={init:function(){i.should_init()&&(i.find_elements(),i.add_events())},should_init:function(){return i.start_button=n("#wpconsent-start-scanner"),i.start_button.length>0},find_elements:function(){i.results=n("#wpconsent-scanner-scripts"),i.service_template=n("#wpconsent-scanner-service").html(),i.message=n("#wpconsent-scanner-message"),i.essential=n("#wpconsent-scanner-essential"),i.form=n("#wpconsent-scanner-form"),i.after_scan=n("#wpconsent-after-scan")},add_events:function(){i.start_button.on("click",i.start_scanner),i.form.on("submit",i.configure_cookies)},start_scanner:function(e){e.preventDefault(),i.start_button.prop("disabled",!0),i.after_scan_action=i.start_button.data("action"),i.results.empty();const t=n('input[name="scanner_items[]"]');if(t.length>0)i.page_ids=["0"],i.current_scan_index=0,i.scan_results={scripts:{},services_needed:[],total_pages:0,scanned_pages:0,request_id:""},t.each((function(){i.page_ids.push(n(this).val())})),i.scan_results.total_pages=i.page_ids.length,i.scan_results.request_id=Date.now().toString(),WPConsentConfirm.show_please_wait(wpconsent.scanning_title,!0),i.scan_next_page();else{WPConsentConfirm.show_please_wait(wpconsent.scanning_title);const e=n("#scanner-email").val(),t={action:"wpconsent_scan_website",nonce:wpconsent.nonce};""!==e&&(t.email=e),n.post(ajaxurl,t).always((function(){i.start_button.prop("disabled",!1)})).done(i.handle_response)}},scan_next_page:function(){if(i.current_scan_index>=i.page_ids.length){const e=i.page_ids[i.page_ids.length-1];return WPConsentConfirm.update_progress(i.scan_results.scanned_pages,i.page_ids.length),void n.post(ajaxurl,{action:"wpconsent_scan_page",nonce:wpconsent.nonce,page_id:e,request_id:i.scan_results.request_id,email:n("#scanner-email").val(),is_final:!0,total_pages:i.scan_results.total_pages,scanned_pages:i.scan_results.scanned_pages}).always((function(){i.start_button.prop("disabled",!1)})).done(i.handle_response)}const e=i.page_ids[i.current_scan_index];n.post(ajaxurl,{action:"wpconsent_scan_page",nonce:wpconsent.nonce,page_id:e,request_id:i.scan_results.request_id,email:n("#scanner-email").val()}).done((function(e){WPConsentConfirm.update_progress(i.scan_results.scanned_pages,i.page_ids.length),e.success?(i.current_scan_index++,e.data.error||i.scan_results.scanned_pages++,i.scan_next_page()):i.handle_scan_error(e.data.message||wpconsent.scan_error)})).fail((function(e,t,n){i.handle_scan_error(wpconsent.scan_error)}))},handle_scan_error:function(e){WPConsentConfirm.close(),i.start_button.prop("disabled",!1),n.alert({title:wpconsent.scan_error,content:e,type:"red",icon:"fa fa-exclamation-circle",animateFromElement:!1,buttons:{confirm:{text:wpconsent.ok,btnClass:"btn-confirm",keys:["enter"]}}})},handle_response:function(e){if(WPConsentConfirm.close(),e.success){const t=e.data.error&&!0===e.data.error,s=!i.scan_results||i.scan_results.scanned_pages===i.scan_results.total_pages,o=t||!s?"red":"blue",r=t?"fa fa-exclamation-circle":"fa fa-check-circle",c=t?wpconsent.scan_error:wpconsent.scan_complete;let a=e.data.message;n.confirm({title:c,content:a,type:o,icon:r,animateFromElement:!1,buttons:{confirm:{text:wpconsent.ok,btnClass:"btn-confirm",keys:["enter"]}},onAction:function(n){"confirm"===n&&(t||i.do_after_scan_action(e))}})}},do_after_scan_action:function(t){""!==i.after_scan_action&&"reload"!==i.after_scan_action?n(e).trigger("wpconsent_after_scan",t):location.reload()},configure_cookies:function(e){e.preventDefault(),n.confirm({title:wpconsent.configure_cookies_title,content:wpconsent.configure_cookies_content,type:"blue",icon:"fa fa-exclamation-circle",animateFromElement:!1,buttons:{confirm:{text:wpconsent.yes,btnClass:"btn-confirm",keys:["enter"]},cancel:{text:wpconsent.no,btnClass:"btn-cancel",keys:["esc"]}},onAction:function(e){if("confirm"===e){const e=i.form.serialize();WPConsentConfirm.show_please_wait(),n.post(ajaxurl,e).done((function(e){WPConsentConfirm.close(),e.success&&n.alert({title:"",content:e.data.message,onAction:function(){WPConsentConfirm.show_please_wait(),location.reload()}})}))}}})}};return i}(document,window,jQuery),WPConsentScanner.init()},425:()=>{!function(e){"use strict";e("body").hasClass("wpconsent_page_wpconsent-cookies")&&(e("#enable_consent_banner").on("change",(function(){const t=e("#enable_script_blocking").closest(".wpconsent-metabox-form-row-input"),n=e("#enable_script_blocking");this.checked?t.removeClass("disabled"):(t.addClass("disabled"),n.prop("checked",!1))})),e(document).ready((function(){if(!e("#enable_consent_banner").is(":checked")){const t=e("#enable_script_blocking").closest(".wpconsent-metabox-form-row-input"),n=e("#enable_script_blocking");t.addClass("disabled"),n.prop("checked",!1)}})))}(jQuery)},54:()=>{jQuery((function(e){e(".wpconsent-select").on("change",(function(){const t=e(this).data("target"),n=e(this).data("target-property");if(t&&n){const i=document.getElementById("wpconsent-container").shadowRoot.querySelector(t);if("class"===n){const t=e(this).data("prefix")||"",n=t+e(this).val();t&&e(i).removeClass((function(e,n){return(n.match(new RegExp("\\b"+t+"\\S+","g"))||[]).join(" ")})),e(i).addClass(n)}else e(i).css(n,e(this).val())}}))}))},887:()=>{class e{constructor(){document.getElementById("wpconsent-modal-add-service")&&(this.modal=new WPConsentModalForm("wpconsent-modal-add-service"),this.bindEvents())}bindEvents(){document.addEventListener("click",(e=>{e.target.closest(".wpconsent-add-service")&&this.handleAddService(e)})),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-edit-service")&&this.handleEditService(e)})),document.addEventListener("click",(e=>{e.target.closest(".wpconsent-delete-service")&&this.handleDeleteService(e)}))}handleAddService(e){const t=e.target.closest(".wpconsent-add-service").dataset.categoryId;this.modal.open({title:"Add New Service",beforeOpen:()=>{const e=document.querySelector("#cookie_category");e&&(e.value=t)},data:{service_name:"",service_description:"",service_url:"",service_category:t,action:"wpconsent_manage_service"},successCallback:e=>{e.success&&this.addServiceToList(e.data),this.modal.close()}})}handleEditService(e){const t=e.target.closest(".wpconsent-edit-service"),n=t.closest(".wpconsent-service-item"),i=(n.querySelector(".wpconsent-service-id").value,n.querySelector(".wpconsent-service-url").value),s=n.querySelector(".service-name").textContent,o=n.querySelector(".service-desc").textContent,r=t.closest(".wpconsent-accordion-item").querySelector(".wpconsent-add-cookie").dataset.categoryId,c=t.dataset.serviceId;this.modal.open({title:"Edit Service",beforeOpen:()=>{const e=document.querySelector("#cookie_category");e&&(e.value=r)},data:{post_id:c,service_name:s,service_description:o,service_url:i,service_category:r,action:"wpconsent_manage_service"},successCallback:e=>{e.success&&this.updateServiceInList(e.data),this.modal.close()}})}handleDeleteService(e){if(!confirm("Are you sure you want to delete this service?"))return;const t=e.target.closest(".wpconsent-delete-service"),n=t.closest(".wpconsent-service-item"),i=t.dataset.serviceId,s=new FormData;s.append("action","wpconsent_delete_service"),s.append("service_id",i),s.append("nonce",window.wpconsent.nonce),fetch(ajaxurl,{method:"POST",body:s,credentials:"same-origin"}).then((e=>e.json())).then((e=>{e.success?n.remove():alert("Failed to delete service. Please try again.")})).catch((e=>{console.error("Error deleting service:",e),alert("Failed to delete service. Please try again.")}))}addServiceToList(e){const t=e.category_id,n=document.querySelector(`.wpconsent-accordion-item [data-category-id="${t}"]`).closest(".wpconsent-accordion-item").querySelector(".wpconsent-cookies-list"),i=document.getElementById("wpconsent-new-service-row").innerHTML.replace(/{{name}}/g,e.name).replace(/{{description}}/g,e.description).replace(/{{service_id}}/g,e.cookie_id).replace(/{{service_url}}/g,e.service_url).replace(/{{id}}/g,e.cookie_id);n.insertAdjacentHTML("beforeend",i);const s=n.closest(".wpconsent-accordion-content");s.style.maxHeight=s.scrollHeight+"px"}updateServiceInList(e){const t=document.querySelector(`.wpconsent-service-item .wpconsent-edit-service[data-service-id="${e.id}"]`).closest(".wpconsent-service-item");t&&(t.querySelector(".service-name").textContent=e.name,t.querySelector(".service-desc").textContent=e.description)}}document.addEventListener("DOMContentLoaded",(()=>{const t=new e;document.addEventListener("wpconsent:service-added",(e=>{if(t.addServiceToList(e.detail),e.detail.cookies&&e.detail.cookies.length>0){const t=new WPConsentCookieManagement;e.detail.cookies.forEach((n=>{n.service_id=e.detail.id,t.addCookieToList(n,e.detail.category_id)}))}}))}))},609:()=>{(window.WPConsentSpinner||function(e,t,n){const i={init(){t.WPConsentSpinner=i,i.spinner=n("#wpconsent-admin-spinner")},show_button_spinner(e,t="right"){e.prop("disabled",!0);const s=e.offset(),o=n("#adminmenuwrap"),r=n("#wpadminbar"),c=o.is(":visible")?o.width():0,a=r.is(":visible")?r.height():0;let l={};i.spinner.show(),l="right"===t?{left:s.left-c+e.outerWidth(),top:s.top-a+e.outerHeight()/2-i.spinner.height()/2}:{left:s.left-c-i.spinner.outerWidth()-20,top:s.top-a+e.outerHeight()/2-i.spinner.height()/2},i.spinner.css(l)},hide_button_spinner(e){e.prop("disabled",!1),i.spinner.hide()}};return i}(document,window,jQuery)).init()},249:()=>{jQuery((function(e){e(".wpconsent-input-text").on("keyup",(function(){const t=e(this).data("target");t&&(document.getElementById("wpconsent-container").shadowRoot.querySelector(t).innerText=e(this).val())}))}))},766:()=>{jQuery((function(e){function t(){WPConsentAdminNotices.show_pro_notice(wpconsent.scanner.title,wpconsent.scanner.text,wpconsent.scanner.url)}jQuery("#wpconsent-records-of-consent-lite").on("change",(function(){jQuery(this).prop("checked",!1),WPConsentAdminNotices.show_pro_notice(wpconsent.records_of_consent.title,wpconsent.records_of_consent.text,wpconsent.records_of_consent.url)})),jQuery("#wpconsent-auto-scanner-lite").on("change",(function(){jQuery(this).prop("checked",!1),t()})),jQuery('[for="wpconsent-auto-scanner-lite"], [for="wpconsent-auto-scanner-interval-lite"], #wpconsent-auto-scanner-interval-lite').on("click",(function(e){e.preventDefault(),t()})),jQuery("#wpconsent-export-custom-scripts-lite").on("change",(function(){jQuery(this).prop("checked",!1),WPConsentAdminNotices.show_pro_notice(wpconsent.custom_scripts_export.title,wpconsent.custom_scripts_export.text,wpconsent.custom_scripts_export.url)})),e(".wpconsent-languages-button-lite").on("click",(function(){WPConsentAdminNotices.show_pro_notice(wpconsent.languages_upsell.title,wpconsent.languages_upsell.text,wpconsent.languages_upsell.url)})),e(".wpconsent-add-service-from-library-lite").on("click",(function(){WPConsentAdminNotices.show_pro_notice(wpconsent.service_library_upsell.title,wpconsent.service_library_upsell.text,wpconsent.service_library_upsell.url)}))}))},350:(e,t,n)=>{var i,s,o;s=[n(428)],void 0===(o="function"==typeof(i=function(e){var t=window;e.fn.confirm=function(n,i){return void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:i||!1}),e(this).each((function(){var i=e(this);i.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",i[0]):(i.on("click",(function(s){s.preventDefault();var o=e.extend({},n);if(i.attr("data-title")&&(o.title=i.attr("data-title")),i.attr("data-content")&&(o.content=i.attr("data-content")),void 0===o.buttons&&(o.buttons={}),o.$target=i,i.attr("href")&&0===Object.keys(o.buttons).length){var r=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{}),c=Object.keys(r)[0];o.buttons=r,o.buttons[c].action=function(){location.href=i.attr("href")}}o.closeIcon=!1,e.confirm(o)})),i.attr("jc-attached",!0))})),e(this)},e.confirm=function(n,i){void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:i||!1});var s=!(!1===n.buttons);if("object"!=typeof n.buttons&&(n.buttons={}),0===Object.keys(n.buttons).length&&s){var o=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{});n.buttons=o}return t.jconfirm(n)},e.alert=function(n,i){void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:i||!1});var s=!(!1===n.buttons);if("object"!=typeof n.buttons&&(n.buttons={}),0===Object.keys(n.buttons).length&&s){var o=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{}),r=Object.keys(o)[0];n.buttons[r]=o[r]}return t.jconfirm(n)},e.dialog=function(e,n){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:n||!1,closeIcon:function(){}}),e.buttons={},void 0===e.closeIcon&&(e.closeIcon=function(){}),e.confirmKeys=[13],t.jconfirm(e)},t.jconfirm=function(n){void 0===n&&(n={});var i=e.extend(!0,{},t.jconfirm.pluginDefaults);t.jconfirm.defaults&&(i=e.extend(!0,i,t.jconfirm.defaults)),i=e.extend(!0,{},i,n);var s=new t.Jconfirm(i);return t.jconfirm.instances.push(s),s},t.Jconfirm=function(t){e.extend(this,t),this._init()},t.Jconfirm.prototype={_init:function(){var n=this;t.jconfirm.instances.length||(t.jconfirm.lastFocused=e("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=e(document.createElement("div")),this.lazyOpen||setTimeout((function(){n.open()}),0)},_buildHTML:function(){var t=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var n=e(this.template);n.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&n.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(n.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),n.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),n.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?n.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):n.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):n.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&n.find(".jconfirm-title-c").addClass(this.titleClass),n.addClass(this.themeParsed);var i="jconfirm-box"+this._id;n.find(".jconfirm-box").attr("aria-labelledby",i).attr("tabindex",-1),n.find(".jconfirm-content").attr("id",i),null!==this.bgOpacity&&n.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&n.addClass("jconfirm-rtl"),this.$el=n.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),t.setStartingPoint(),this._contentReady=e.Deferred(),this._modalReady=e.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),e.when(this._contentReady,this._modalReady).then((function(){t.isAjaxLoading?setTimeout((function(){t.isAjaxLoading=!1,t.setContent(),t.setTitle(),t.setIcon(),setTimeout((function(){t.hideLoading(!1),t._updateContentMaxHeight()}),100),"function"==typeof t.onContentReady&&t.onContentReady()}),50):(t._updateContentMaxHeight(),t.setTitle(),t.setIcon(),"function"==typeof t.onContentReady&&t.onContentReady()),t.autoClose&&t._startCountDown()})).then((function(){t._watchContent()})),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(e){this.typeParsed=this._typePrefix+e},setType:function(e){var t=this.typeParsed;this._parseType(e),this.$jconfirmBox.removeClass(t).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(e){var t=this.theme;this.theme=e||this.theme,this._parseTheme(this.theme),t&&this.$el.removeClass(t),this.$el.addClass(this.themeParsed),this.theme=e},_parseTheme:function(t){var n=this;t=t.split(","),e.each(t,(function(i,s){-1===s.indexOf(n._themePrefix)&&(t[i]=n._themePrefix+e.trim(s))})),this.themeParsed=t.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(t){var n=t.split(","),i=this;e.each(n,(function(t,s){-1===s.indexOf(i._bgDismissPrefix)&&(n[t]=i._bgDismissPrefix+e.trim(s))})),this.backgroundDismissAnimationParsed=n.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(e){this.animation=e||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(t,n){n=n||"o";var i=t.split(","),s=this;e.each(i,(function(t,n){-1===n.indexOf(s._animationPrefix)&&(i[t]=s._animationPrefix+e.trim(n))}));var o=i.join(" ").toLowerCase();return"o"===n?this.animationParsed=o:this.closeAnimationParsed=o,o},setCloseAnimation:function(e){this.closeAnimation=e||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(e){this.animationSpeed=e||this.animationSpeed},columnClassParsed:"",setColumnClass:function(e){this.useBootstrap?(this.columnClass=e||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var t=e(window).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":t+"px"})},setBoxWidth:function(e){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=e,this.$jconfirmBox.css("width",e))},_parseColumnClass:function(e){var t;switch(e=e.toLowerCase()){case"xl":case"xlarge":t="col-md-12";break;case"l":case"large":t="col-md-8 col-md-offset-2";break;case"m":case"medium":t="col-md-6 col-md-offset-3";break;case"s":case"small":t="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":t="col-md-2 col-md-offset-5";break;default:t=e}this.columnClassParsed=t},initDraggable:function(){var t=this,n=this.$titleContainer;this.resetDrag(),this.draggable&&(n.on("mousedown",(function(e){n.addClass("jconfirm-hand"),t.mouseX=e.clientX,t.mouseY=e.clientY,t.isDrag=!0})),e(window).on("mousemove."+this._id,(function(e){t.isDrag&&(t.movingX=e.clientX-t.mouseX+t.initialX,t.movingY=e.clientY-t.mouseY+t.initialY,t.setDrag())})),e(window).on("mouseup."+this._id,(function(){n.removeClass("jconfirm-hand"),t.isDrag&&(t.isDrag=!1,t.initialX=t.movingX,t.initialY=t.movingY)})))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var t=this.$jconfirmBox.outerWidth(),n=this.$jconfirmBox.outerHeight(),i=e(window).width(),s=e(window).height(),o=this;if(o.movingX%1==0||o.movingY%1==0){if(o.dragWindowBorder){var r=i/2-t/2,c=s/2-n/2;c-=o.dragWindowGap,(r-=o.dragWindowGap)+o.movingX<0?o.movingX=-r:r-o.movingX<0&&(o.movingX=r),c+o.movingY<0?o.movingY=-c:c-o.movingY<0&&(o.movingY=c)}o.$jconfirmBoxContainer.css("transform","translate("+o.movingX+"px, "+o.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},_watchContent:function(){var t=this;this._timer&&clearInterval(this._timer);var n=0;this._timer=setInterval((function(){if(t.smoothContent){var i=t.$content.outerHeight()||0;i!==n&&(n=i);var s=e(window).height();t.offsetTop+t.offsetBottom+t.$jconfirmBox.height()-t.$contentPane.height()+t.$content.height()<s?t.$contentPane.addClass("no-scroll"):t.$contentPane.removeClass("no-scroll")}}),this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var e=this;if(!this._hilightAnimating){e.$body.addClass("hilight");var t=parseFloat(e.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout((function(){e._hilightAnimating=!1,e.$body.removeClass("hilight")}),1e3*t)}},_bindEvents:function(){var t=this;this.boxClicked=!1,this.$scrollPane.click((function(e){if(!t.boxClicked){var n,i=!1,s=!1;if("string"==typeof(n="function"==typeof t.backgroundDismiss?t.backgroundDismiss():t.backgroundDismiss)&&void 0!==t.buttons[n]?(i=n,s=!1):s=void 0===n||1==!!n,i){var o=t.buttons[i].action.apply(t);s=void 0===o||!!o}s?t.close():t.hiLightModal()}t.boxClicked=!1})),this.$jconfirmBox.click((function(e){t.boxClicked=!0}));var n=!1;e(window).on("jcKeyDown."+t._id,(function(e){n||(n=!0)})),e(window).on("keyup."+t._id,(function(e){n&&(t.reactOnKey(e),n=!1)})),e(window).on("resize."+this._id,(function(){t._updateContentMaxHeight(),setTimeout((function(){t.resetDrag()}),100)}))},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(e,t){return{"-webkit-transition-duration":e/1e3+"s","transition-duration":e/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+t+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+t+")"}},_setButtons:function(){var t=this,n=0;if("object"!=typeof this.buttons&&(this.buttons={}),e.each(this.buttons,(function(i,s){n+=1,"function"==typeof s&&(t.buttons[i]=s={action:s}),t.buttons[i].text=s.text||i,t.buttons[i].btnClass=s.btnClass||"btn-default",t.buttons[i].action=s.action||function(){},t.buttons[i].keys=s.keys||[],t.buttons[i].isHidden=s.isHidden||!1,t.buttons[i].isDisabled=s.isDisabled||!1,e.each(t.buttons[i].keys,(function(e,n){t.buttons[i].keys[e]=n.toLowerCase()}));var o=e('<button type="button" class="btn"></button>').html(t.buttons[i].text).addClass(t.buttons[i].btnClass).prop("disabled",t.buttons[i].isDisabled).css("display",t.buttons[i].isHidden?"none":"").click((function(e){e.preventDefault();var n=t.buttons[i].action.apply(t,[t.buttons[i]]);t.onAction.apply(t,[i,t.buttons[i]]),t._stopCountDown(),(void 0===n||n)&&t.close()}));t.buttons[i].el=o,t.buttons[i].setText=function(e){o.html(e)},t.buttons[i].addClass=function(e){o.addClass(e)},t.buttons[i].removeClass=function(e){o.removeClass(e)},t.buttons[i].disable=function(){t.buttons[i].isDisabled=!0,o.prop("disabled",!0)},t.buttons[i].enable=function(){t.buttons[i].isDisabled=!1,o.prop("disabled",!1)},t.buttons[i].show=function(){t.buttons[i].isHidden=!1,o.css("display","")},t.buttons[i].hide=function(){t.buttons[i].isHidden=!0,o.css("display","none")},t["$_"+i]=t["$$"+i]=o,t.$btnc.append(o)})),0===n&&this.$btnc.hide(),null===this.closeIcon&&0===n&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var i='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(i)}this.$closeIcon.click((function(e){e.preventDefault();var n,i=!1,s=!1;if("string"==typeof(n="function"==typeof t.closeIcon?t.closeIcon():t.closeIcon)&&void 0!==t.buttons[n]?(i=n,s=!1):s=void 0===n||1==!!n,i){var o=t.buttons[i].action.apply(t);s=void 0===o||!!o}s&&t.close()})),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(e,t){if(t=t||!1,void 0!==e)if("string"==typeof e)this.title=e;else if("function"==typeof e){"function"==typeof e.promise&&console.error("Promise was returned from title function, this is not supported.");var n=e();this.title="string"==typeof n&&n}else this.title=!1;this.isAjaxLoading&&!t||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(e,t){if(t=t||!1,void 0!==e)if("string"==typeof e)this.icon=e;else if("function"==typeof e){var n=e();this.icon="string"==typeof n&&n}else this.icon=!1;this.isAjaxLoading&&!t||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(e,t){e&&this.contentParsed.prepend(e)},setContentAppend:function(e){e&&this.contentParsed.append(e)},setContent:function(e,t){t=!!t;var n=this;e&&this.contentParsed.html("").append(e),this.isAjaxLoading&&!t||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout((function(){n.$body.find("input[autofocus]:visible:first").focus()}),100))},loadingSpinner:!1,showLoading:function(e){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),e&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(e){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),e&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var t=this,n="&nbsp;";if("function"==typeof this.content){var i=this.content.apply(this);"string"==typeof i?this.content=i:"object"==typeof i&&"function"==typeof i.always?(this.isAjax=!0,this.isAjaxLoading=!0,i.always((function(e,n,i){t.ajaxResponse={data:e,status:n,xhr:i},t._contentReady.resolve(e,n,i),"function"==typeof t.contentLoaded&&t.contentLoaded(e,n,i)})),this.content=n):this.content=n}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var s=this.content.substring(4,this.content.length);e.get(s).done((function(e){t.contentParsed.html(e)})).always((function(e,n,i){t.ajaxResponse={data:e,status:n,xhr:i},t._contentReady.resolve(e,n,i),"function"==typeof t.contentLoaded&&t.contentLoaded(e,n,i)}))}this.content||(this.content=n),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),t._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var t=this,n=this.autoClose.split("|");if(2!==n.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var i=n[0],s=parseInt(n[1]);if(void 0===this.buttons[i])return console.error("Invalid button key '"+i+"' for autoClose"),!1;var o=Math.ceil(s/1e3);this.$cd=e('<span class="countdown"> ('+o+")</span>").appendTo(this["$_"+i]),this.autoCloseInterval=setInterval((function(){t.$cd.html(" ("+(o-=1)+") "),o<=0&&(t["$$"+i].trigger("click"),t._stopCountDown())}),1e3)},_getKey:function(e){switch(e){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var t=String.fromCharCode(e);return!!/^[A-z0-9]+$/.test(t)&&t.toLowerCase()},reactOnKey:function(t){var n=this,i=e(".jconfirm");if(i.eq(i.length-1)[0]!==this.$el[0])return!1;var s=t.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(s))return!1;var o,r=this._getKey(s);"esc"===r&&this.escapeKey&&(!0===this.escapeKey?this.$scrollPane.trigger("click"):"string"!=typeof this.escapeKey&&"function"!=typeof this.escapeKey||(o="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&(void 0===this.buttons[o]?console.warn("Invalid escapeKey, no buttons found with key "+o):this["$_"+o].trigger("click"))),e.each(this.buttons,(function(e,t){-1!==t.keys.indexOf(r)&&n["$_"+e].trigger("click")}))},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(n){var i=this;return"function"==typeof this.onClose&&this.onClose(n),this._unwatchContent(),e(window).unbind("resize."+this._id),e(window).unbind("keyup."+this._id),e(window).unbind("jcKeyDown."+this._id),this.draggable&&(e(window).unbind("mousemove."+this._id),e(window).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),i.$el.removeClass(i.loadedClass),e("body").removeClass("jconfirm-no-scroll-"+i._id),i.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout((function(){i.$body.addClass(i.closeAnimationParsed),i.$jconfirmBg.addClass("jconfirm-bg-h");var n="none"===i.closeAnimation?1:i.animationSpeed;setTimeout((function(){i.$el.remove(),t.jconfirm.instances;for(var n=t.jconfirm.instances.length-1;n>=0;n--)t.jconfirm.instances[n]._id===i._id&&t.jconfirm.instances.splice(n,1);if(!t.jconfirm.instances.length&&i.scrollToPreviousElement&&t.jconfirm.lastFocused&&t.jconfirm.lastFocused.length&&e.contains(document,t.jconfirm.lastFocused[0])){var s=t.jconfirm.lastFocused;if(i.scrollToPreviousElementAnimate){var o=e(window).scrollTop(),r=t.jconfirm.lastFocused.offset().top,c=e(window).height();if(r>o&&r<o+c)s.focus();else{var a=r-Math.round(c/3);e("html, body").animate({scrollTop:a},i.animationSpeed,"swing",(function(){s.focus()}))}}else s.focus();t.jconfirm.lastFocused=!1}"function"==typeof i.onDestroy&&i.onDestroy()}),.4*n)}),50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var n=!1;if(!0!==this.animateFromElement&&this.animateFromElement)n=this.animateFromElement,t.jconfirm.lastClicked=!1;else{if(!t.jconfirm.lastClicked||!0!==this.animateFromElement)return!1;n=t.jconfirm.lastClicked,t.jconfirm.lastClicked=!1}if(!n)return!1;var i=n.offset(),s=n.outerHeight()/2,o=n.outerWidth()/2;s-=this.$jconfirmBox.outerHeight()/2,o-=this.$jconfirmBox.outerWidth()/2;var r=i.top+s;r-=this._scrollTop();var c=i.left+o,a=e(window).height()/2,l=e(window).width()/2;if(r-=a-this.$jconfirmBox.outerHeight()/2,c-=l-this.$jconfirmBox.outerWidth()/2,Math.abs(r)>a||Math.abs(c)>l)return!1;this.$jconfirmBoxContainer.css("transform","translate("+c+"px, "+r+"px)")},_open:function(){var e=this;"function"==typeof e.onOpenBefore&&e.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),e.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout((function(){e.$body.css(e._getCSS(e.animationSpeed,1)),e.$body.css({"transition-property":e.$body.css("transition-property")+", margin"}),e.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),e._modalReady.resolve(),"function"==typeof e.onOpen&&e.onOpen(),e.$el.addClass(e.loadedClass)}),this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||0===this.$el.parent().length},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},t.jconfirm.instances=[],t.jconfirm.lastFocused=!1,t.jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var n=!1;e(window).on("keydown",(function(t){if(!n){var i=!1;e(t.target).closest(".jconfirm-box").length&&(i=!0),i&&e(window).trigger("jcKeyDown"),n=!0}})),e(window).on("keyup",(function(){n=!1})),t.jconfirm.lastClicked=!1,e(document).on("mousedown","button, a, [jc-source]",(function(){t.jconfirm.lastClicked=e(this)}))})?i.apply(t,s):i)||(e.exports=o)},428:e=>{"use strict";e.exports=window.jQuery}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}(()=>{"use strict";n(350),window.jconfirm.defaults={closeIcon:!1,backgroundDismiss:!1,escapeKey:!0,animationBounce:1,useBootstrap:!1,theme:"modern",boxWidth:"560px",type:"blue",animateFromElement:!1,scrollToPreviousElement:!1},n(469),n(197),n(50),n(54),n(249),n(239),n(615),n(192),n(961),n(622),n(887);var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)};function s(e,t,n){if(n||2===arguments.length)for(var i,s=0,o=t.length;s<o;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var o,r="ADD_CHOICE",c="REMOVE_CHOICE",a="FILTER_CHOICES",l="ACTIVATE_CHOICES",h="CLEAR_CHOICES",d="ADD_GROUP",u="ADD_ITEM",p="REMOVE_ITEM",m="HIGHLIGHT_ITEM",f="search",g="removeItem",_="highlightItem",v=["fuseOptions","classNames"],b="select-one",y="select-multiple",w=function(e){return{type:c,choice:e}},C=function(e){return{type:p,item:e}},x=function(e,t){return{type:m,item:e,highlighted:t}},E=function(e){return Array.from({length:e},(function(){return Math.floor(36*Math.random()+0).toString(36)})).join("")},S=function(e){if("string"!=typeof e){if(null==e)return"";if("object"==typeof e){if("raw"in e)return S(e.raw);if("trusted"in e)return e.trusted}return e}return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},k=(o=document.createElement("div"),function(e){o.innerHTML=e.trim();for(var t=o.children[0];o.firstChild;)o.removeChild(o.firstChild);return t}),A=function(e,t){return"function"==typeof e?e(S(t),t):e},I=function(e){return"function"==typeof e?e():e},j=function(e){if("string"==typeof e)return e;if("object"==typeof e){if("trusted"in e)return e.trusted;if("raw"in e)return e.raw}return""},L=function(e,t){return e?function(e){if("string"==typeof e)return e;if("object"==typeof e){if("escaped"in e)return e.escaped;if("trusted"in e)return e.trusted}return""}(t):S(t)},O=function(e,t,n){e.innerHTML=L(t,n)},P=function(e,t){return e.rank-t.rank},T=function(e){return Array.isArray(e)?e:[e]},$=function(e){return e&&Array.isArray(e)?e.map((function(e){return".".concat(e)})).join(""):".".concat(e)},D=function(e,t){var n;(n=e.classList).add.apply(n,T(t))},M=function(e,t){var n;(n=e.classList).remove.apply(n,T(t))},F=function(e){if(void 0!==e)try{return JSON.parse(e)}catch(t){return e}return{}},B=function(){function e(e){var t=e.element,n=e.type,i=e.classNames;this.element=t,this.classNames=i,this.type=n,this.isActive=!1}return e.prototype.show=function(){return D(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return M(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}(),N=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,s=e.position;this.element=t,this.classNames=i,this.type=n,this.position=s,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return e.prototype.shouldFlip=function(e,t){var n=!1;return"auto"===this.position?n=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(n=!0),n},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e,t){D(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e,t)&&(D(this.element,this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){M(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(M(this.element,this.classNames.flippedState),this.isFlipped=!1)},e.prototype.addFocusState=function(){D(this.element,this.classNames.focusState)},e.prototype.removeFocusState=function(){M(this.element,this.classNames.focusState)},e.prototype.enable=function(){M(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===b&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){D(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===b&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){var t=this.element,n=e.parentNode;n&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t)),t.appendChild(e)},e.prototype.unwrap=function(e){var t=this.element,n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))},e.prototype.addLoadingState=function(){D(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){M(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e}(),q=function(){function e(e){var t=e.element,n=e.type,i=e.classNames,s=e.preventPaste;this.element=t,this.type=n,this.classNames=i,this.preventPaste=s,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value="",e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element;e.style.minWidth="".concat(e.placeholder.length+1,"ch"),e.style.width="".concat(e.value.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==b&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}(),W=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var i=this.element.offsetHeight,s=this.element.scrollTop+i,o=e.offsetHeight,r=e.offsetTop+o,c=t>0?this.element.scrollTop+r-s:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(c,t)}))}},e.prototype._scrollDown=function(e,t,n){var i=(n-e)/t,s=i>1?i:1;this.element.scrollTop=e+s},e.prototype._scrollUp=function(e,t,n){var i=(e-n)/t,s=i>1?i:1;this.element.scrollTop=e-s},e.prototype._animateScroll=function(e,t){var n=this,i=this.element.scrollTop,s=!1;t>0?(this._scrollDown(i,4,e),i<e&&(s=!0)):(this._scrollUp(i,4,e),i>e&&(s=!0)),s&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}(),H=function(){function e(e){var t=e.element,n=e.classNames;this.element=t,this.classNames=n,this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){var e=this.element;D(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var t=e.getAttribute("style");t&&e.setAttribute("data-choice-orig-style",t),e.setAttribute("data-choice","active")},e.prototype.reveal=function(){var e=this.element;M(e,this.classNames.input),e.hidden=!1,e.removeAttribute("tabindex");var t=e.getAttribute("data-choice-orig-style");t?(e.removeAttribute("data-choice-orig-style"),e.setAttribute("style",t)):e.removeAttribute("style"),e.removeAttribute("data-choice")},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){!function(e,t,n){void 0===n&&(n=null);var i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});e.dispatchEvent(i)}(this.element,e,t||{})},e}(),R=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(H),K=function(e,t){return void 0===t&&(t=!0),void 0===e?t:!!e},V=function(e){if("string"==typeof e&&(e=e.split(" ").filter((function(e){return e.length}))),Array.isArray(e)&&e.length)return e},Q=function(e,t){if("string"==typeof e)return Q({value:e,label:e},!1);var n=e;if("choices"in n){if(!t)throw new TypeError("optGroup is not allowed");var i=n,s=i.choices.map((function(e){return Q(e,!1)}));return{id:0,label:j(i.label)||i.value,active:!!s.length,disabled:!!i.disabled,choices:s}}var o=n;return{id:0,group:null,score:0,rank:0,value:o.value,label:o.label||o.value,active:K(o.active),selected:K(o.selected,!1),disabled:K(o.disabled,!1),placeholder:K(o.placeholder,!1),highlighted:!1,labelClass:V(o.labelClass),labelDescription:o.labelDescription,customProperties:o.customProperties}},U=function(e){return"SELECT"===e.tagName},G=function(e){function n(t){var n=t.element,i=t.classNames,s=t.template,o=t.extractPlaceholder,r=e.call(this,{element:n,classNames:i})||this;return r.template=s,r.extractPlaceholder=o,r}return t(n,e),Object.defineProperty(n.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),n.prototype.addOptions=function(e){var t=this,n=document.createDocumentFragment();e.forEach((function(e){var i=e;if(!i.element){var s=t.template(i);n.appendChild(s),i.element=s}})),this.element.appendChild(n)},n.prototype.optionsAsChoices=function(){var e=this,t=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach((function(n){!function(e){return"OPTION"===e.tagName}(n)?function(e){return"OPTGROUP"===e.tagName}(n)&&t.push(e._optgroupToChoice(n)):t.push(e._optionToChoice(n))})),t},n.prototype._optionToChoice=function(e){return!e.hasAttribute("value")&&e.hasAttribute("placeholder")&&(e.setAttribute("value",""),e.value=""),{id:0,group:null,score:0,rank:0,value:e.value,label:e.innerHTML,element:e,active:!0,selected:this.extractPlaceholder?e.selected:e.hasAttribute("selected"),disabled:e.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!e.value||e.hasAttribute("placeholder")),labelClass:void 0!==e.dataset.labelClass?V(e.dataset.labelClass):void 0,labelDescription:void 0!==e.dataset.labelDescription?e.dataset.labelDescription:void 0,customProperties:F(e.dataset.customProperties)}},n.prototype._optgroupToChoice=function(e){var t=this,n=e.querySelectorAll("option"),i=Array.from(n).map((function(e){return t._optionToChoice(e)}));return{id:0,label:e.label||"",element:e,active:!!i.length,disabled:e.disabled,choices:i}},n}(H),z={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(e){return!!e&&""!==e},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(e,t){var n=e.value,i=e.label,s=void 0===i?n:i,o=t.value,r=t.label,c=void 0===r?o:r;return j(s).localeCompare(j(c),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat(e,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(e){return"Remove item: ".concat(e)},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},appendGroupInSearch:!1},X=function(e){var t=e.itemEl;t&&(t.remove(),e.itemEl=void 0)},Y={groups:function(e,t){var n=e,i=!0;switch(t.type){case d:n.push(t.group);break;case h:n=[];break;default:i=!1}return{state:n,update:i}},items:function(e,t,n){var i=e,s=!0;switch(t.type){case u:t.item.selected=!0,(o=t.item.element)&&(o.selected=!0,o.setAttribute("selected","")),i.push(t.item);break;case p:var o;if(t.item.selected=!1,o=t.item.element){o.selected=!1,o.removeAttribute("selected");var r=o.parentElement;r&&U(r)&&r.type===b&&(r.value="")}X(t.item),i=i.filter((function(e){return e.id!==t.item.id}));break;case c:X(t.choice),i=i.filter((function(e){return e.id!==t.choice.id}));break;case m:var a=t.highlighted,l=i.find((function(e){return e.id===t.item.id}));l&&l.highlighted!==a&&(l.highlighted=a,n&&function(e,t,n){var i=e.itemEl;i&&(M(i,n),D(i,t))}(l,a?n.classNames.highlightedState:n.classNames.selectedState,a?n.classNames.selectedState:n.classNames.highlightedState));break;default:s=!1}return{state:i,update:s}},choices:function(e,t,n){var i=e,s=!0;switch(t.type){case r:i.push(t.choice);break;case c:t.choice.choiceEl=void 0,t.choice.group&&(t.choice.group.choices=t.choice.group.choices.filter((function(e){return e.id!==t.choice.id}))),i=i.filter((function(e){return e.id!==t.choice.id}));break;case u:case p:t.item.choiceEl=void 0;break;case a:var o=[];t.results.forEach((function(e){o[e.item.id]=e})),i.forEach((function(e){var t=o[e.id];void 0!==t?(e.score=t.score,e.rank=t.rank,e.active=!0):(e.score=0,e.rank=0,e.active=!1),n&&n.appendGroupInSearch&&(e.choiceEl=void 0)}));break;case l:i.forEach((function(e){e.active=t.active,n&&n.appendGroupInSearch&&(e.choiceEl=void 0)}));break;case h:i=[];break;default:s=!1}return{state:i,update:s}}},J=function(){function e(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(e.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),e.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},e.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach((function(t){return t(e)}))},e.prototype.subscribe=function(e){return this._listeners.push(e),this},e.prototype.dispatch=function(e){var t=this,n=this._state,i=!1,s=this._changeSet||this.changeSet(!1);Object.keys(Y).forEach((function(o){var r=Y[o](n[o],e,t._context);r.update&&(i=!0,s[o]=!0,n[o]=r.state)})),i&&(this._txn?this._changeSet=s:this._listeners.forEach((function(e){return e(s)})))},e.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach((function(e){return e(t)})))}}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return!e.disabled&&e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.choices.filter((function(e){return!e.disabled&&!e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter((function(t){var n=t.active&&!t.disabled,i=e.state.choices.some((function(e){return e.active&&!e.disabled}));return n&&i}),[])},enumerable:!1,configurable:!0}),e.prototype.inTxn=function(){return this._txn>0},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===e}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}(),Z="no-choices",ee="no-results",te="add-choice";function ne(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){return Array.isArray?Array.isArray(e):"[object Array]"===de(e)}function re(e){return"string"==typeof e}function ce(e){return"number"==typeof e}function ae(e){return"object"==typeof e}function le(e){return null!=e}function he(e){return!e.trim().length}function de(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ue=Object.prototype.hasOwnProperty;class pe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=me(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function me(e){let t=null,n=null,i=null,s=1,o=null;if(re(e)||oe(e))i=e,t=fe(e),n=ge(e);else{if(!ue.call(e,"name"))throw new Error("Missing name property in key");const r=e.name;if(i=r,ue.call(e,"weight")&&(s=e.weight,s<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(r));t=fe(r),n=ge(r),o=e.getFn}return{path:t,id:n,weight:s,src:i,getFn:o}}function fe(e){return oe(e)?e:e.split(".")}function ge(e){return oe(e)?e.join("."):e}const _e={useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const s=(e,t,o)=>{if(le(e))if(t[o]){const r=e[t[o]];if(!le(r))return;if(o===t.length-1&&(re(r)||ce(r)||function(e){return!0===e||!1===e||function(e){return ae(e)&&null!==e}(e)&&"[object Boolean]"==de(e)}(r)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(r));else if(oe(r)){i=!0;for(let e=0,n=r.length;e<n;e+=1)s(r[e],t,o+1)}else t.length&&s(r,t,o+1)}else n.push(e)};return s(e,re(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var ve=se(se(se(se({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),_e);const be=/[^ ]+/g;class ye{constructor({getFn:e=ve.getFn,fieldNormWeight:t=ve.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const s=t.match(be).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*e),r=parseFloat(Math.round(o*i)/i);return n.set(s,r),r},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,re(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();re(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!le(e)||he(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let s=t.getFn?t.getFn(e):this.getFn(e,t.path);if(le(s))if(oe(s)){let e=[];const t=[{nestedArrIndex:-1,value:s}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(le(i))if(re(i)&&!he(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else oe(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(re(s)&&!he(s)){let e={v:s,n:this.norm.get(s)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function we(e,t,{getFn:n=ve.getFn,fieldNormWeight:i=ve.fieldNormWeight}={}){const s=new ye({getFn:n,fieldNormWeight:i});return s.setKeys(e.map(me)),s.setSources(t),s.create(),s}function Ce(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:s=ve.distance,ignoreLocation:o=ve.ignoreLocation}={}){const r=t/e.length;if(o)return r;const c=Math.abs(i-n);return s?r+c/s:c?1:r}const xe=32;function Ee(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<i-n-1}return t}class Se{constructor(e,{location:t=ve.location,threshold:n=ve.threshold,distance:i=ve.distance,includeMatches:s=ve.includeMatches,findAllMatches:o=ve.findAllMatches,minMatchCharLength:r=ve.minMatchCharLength,isCaseSensitive:c=ve.isCaseSensitive,ignoreLocation:a=ve.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:r,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:Ee(e),startIndex:t})},h=this.pattern.length;if(h>xe){let e=0;const t=h%xe,n=h-t;for(;e<n;)l(this.pattern.substr(e,xe),e),e+=xe;if(t){const e=h-xe;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:s,threshold:o,findAllMatches:r,minMatchCharLength:c,ignoreLocation:a}=this.options;let l=[],h=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:u,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=function(e,t,n,{location:i=ve.location,distance:s=ve.distance,threshold:o=ve.threshold,findAllMatches:r=ve.findAllMatches,minMatchCharLength:c=ve.minMatchCharLength,includeMatches:a=ve.includeMatches,ignoreLocation:l=ve.ignoreLocation}={}){if(t.length>xe)throw new Error("Pattern length exceeds max of 32.");const h=t.length,d=e.length,u=Math.max(0,Math.min(i,d));let p=o,m=u;const f=c>1||a,g=f?Array(d):[];let _;for(;(_=e.indexOf(t,m))>-1;){let e=Ce(t,{currentLocation:_,expectedLocation:u,distance:s,ignoreLocation:l});if(p=Math.min(e,p),m=_+h,f){let e=0;for(;e<h;)g[_+e]=1,e+=1}}m=-1;let v=[],b=1,y=h+d;const w=1<<h-1;for(let i=0;i<h;i+=1){let o=0,c=y;for(;o<c;)Ce(t,{errors:i,currentLocation:u+c,expectedLocation:u,distance:s,ignoreLocation:l})<=p?o=c:y=c,c=Math.floor((y-o)/2+o);y=c;let a=Math.max(1,u-c+1),_=r?d:Math.min(u+c,d)+h,C=Array(_+2);C[_+1]=(1<<i)-1;for(let o=_;o>=a;o-=1){let r=o-1,c=n[e.charAt(r)];if(f&&(g[r]=+!!c),C[o]=(C[o+1]<<1|1)&c,i&&(C[o]|=(v[o+1]|v[o])<<1|1|v[o+1]),C[o]&w&&(b=Ce(t,{errors:i,currentLocation:r,expectedLocation:u,distance:s,ignoreLocation:l}),b<=p)){if(p=b,m=r,m<=u)break;a=Math.max(1,2*u-m)}}if(Ce(t,{errors:i+1,currentLocation:u,expectedLocation:u,distance:s,ignoreLocation:l})>p)break;v=C}const C={isMatch:m>=0,score:Math.max(.001,b)};if(f){const e=function(e=[],t=ve.minMatchCharLength){let n=[],i=-1,s=-1,o=0;for(let r=e.length;o<r;o+=1){let r=e[o];r&&-1===i?i=o:r||-1===i||(s=o-1,s-i+1>=t&&n.push([i,s]),i=-1)}return e[o-1]&&o-i>=t&&n.push([i,o-1]),n}(g,c);e.length?a&&(C.indices=e):C.isMatch=!1}return C}(e,t,u,{location:i+p,distance:s,threshold:o,findAllMatches:r,minMatchCharLength:c,includeMatches:n,ignoreLocation:a});m&&(d=!0),h+=f,m&&g&&(l=[...l,...g])}));let u={isMatch:d,score:d?h/this.chunks.length:1};return d&&n&&(u.indices=l),u}}class ke{constructor(e){this.pattern=e}static isMultiMatch(e){return Ae(e,this.multiRegex)}static isSingleMatch(e){return Ae(e,this.singleRegex)}search(){}}function Ae(e,t){const n=e.match(t);return n?n[1]:null}class Ie extends ke{constructor(e,{location:t=ve.location,threshold:n=ve.threshold,distance:i=ve.distance,includeMatches:s=ve.includeMatches,findAllMatches:o=ve.findAllMatches,minMatchCharLength:r=ve.minMatchCharLength,isCaseSensitive:c=ve.isCaseSensitive,ignoreLocation:a=ve.ignoreLocation}={}){super(e),this._bitapSearch=new Se(e,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:r,isCaseSensitive:c,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class je extends ke{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],s=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+s,i.push([t,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Le=[class extends ke{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},je,class extends ke{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends ke{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ke{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ke{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends ke{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Ie],Oe=Le.length,Pe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Te=new Set([Ie.type,je.type]);const $e=[];function De(e,t){for(let n=0,i=$e.length;n<i;n+=1){let i=$e[n];if(i.condition(e,t))return new i(e,t)}return new Se(e,t)}const Me="$and",Fe="$path",Be=e=>!(!e[Me]&&!e.$or),Ne=e=>({[Me]:Object.keys(e).map((t=>({[t]:e[t]})))});function qe(e,t,{auto:n=!0}={}){const i=e=>{let s=Object.keys(e);const o=(e=>!!e[Fe])(e);if(!o&&s.length>1&&!Be(e))return i(Ne(e));if((e=>!oe(e)&&ae(e)&&!Be(e))(e)){const i=o?e[Fe]:s[0],r=o?e.$val:e[i];if(!re(r))throw new Error((e=>`Invalid value for key ${e}`)(i));const c={keyId:ge(i),pattern:r};return n&&(c.searcher=De(r,t)),c}let r={children:[],operator:s[0]};return s.forEach((t=>{const n=e[t];oe(n)&&n.forEach((e=>{r.children.push(i(e))}))})),r};return Be(e)||(e=Ne(e)),i(e)}function We(e,t){const n=e.matches;t.matches=[],le(n)&&n.forEach((e=>{if(!le(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let s={indices:n,value:i};e.key&&(s.key=e.key.src),e.idx>-1&&(s.refIndex=e.idx),t.matches.push(s)}))}function He(e,t){t.score=e.score}class Re{constructor(e,t={},n){this.options=se(se({},ve),t),this.options.useExtendedSearch,this._keyStore=new pe(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ye))throw new Error("Incorrect 'index' type");this._myIndex=t||we(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){le(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:r}=this.options;let c=re(e)?re(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=ve.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:s})=>{const o=e?e.weight:null;n*=Math.pow(0===s&&o?Number.EPSILON:s,(o||1)*(t?1:i))})),e.score=n}))}(c,{ignoreFieldNorm:r}),s&&c.sort(o),ce(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=ve.includeMatches,includeScore:i=ve.includeScore}={}){const s=[];return n&&s.push(We),i&&s.push(He),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return s.length&&s.forEach((t=>{t(e,i)})),i}))}(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=De(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:s})=>{if(!le(e))return;const{isMatch:o,score:r,indices:c}=t.searchIn(e);o&&i.push({item:e,idx:n,matches:[{score:r,value:e,norm:s,indices:c}]})})),i}_searchLogical(e){const t=qe(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:s}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:s});return o&&o.length?[{idx:i,item:t,matches:o}]:[]}const s=[];for(let o=0,r=e.children.length;o<r;o+=1){const r=e.children[o],c=n(r,t,i);if(c.length)s.push(...c);else if(e.operator===Me)return[]}return s},i=this._myIndex.records,s={},o=[];return i.forEach((({$:e,i})=>{if(le(e)){let r=n(t,e,i);r.length&&(s[i]||(s[i]={idx:i,item:e,matches:[]},o.push(s[i])),r.forEach((({matches:e})=>{s[i].matches.push(...e)})))}})),o}_searchObjectList(e){const t=De(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach((({$:e,i})=>{if(!le(e))return;let o=[];n.forEach(((n,i)=>{o.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),o.length&&s.push({idx:i,item:e,matches:o})})),s}_findMatches({key:e,value:t,searcher:n}){if(!le(t))return[];let i=[];if(oe(t))t.forEach((({v:t,i:s,n:o})=>{if(!le(t))return;const{isMatch:r,score:c,indices:a}=n.searchIn(t);r&&i.push({score:c,key:e,value:t,idx:s,norm:o,indices:a})}));else{const{v:s,n:o}=t,{isMatch:r,score:c,indices:a}=n.searchIn(s);r&&i.push({score:c,key:e,value:s,norm:o,indices:a})}return i}}Re.version="7.0.0",Re.createIndex=we,Re.parseIndex=function(e,{getFn:t=ve.getFn,fieldNormWeight:n=ve.fieldNormWeight}={}){const{keys:i,records:s}=e,o=new ye({getFn:t,fieldNormWeight:n});return o.setKeys(i),o.setIndexRecords(s),o},Re.config=ve,Re.parseQuery=qe,function(...e){$e.push(...e)}(class{constructor(e,{isCaseSensitive:t=ve.isCaseSensitive,includeMatches:n=ve.includeMatches,minMatchCharLength:i=ve.minMatchCharLength,ignoreLocation:s=ve.ignoreLocation,findAllMatches:o=ve.findAllMatches,location:r=ve.location,threshold:c=ve.threshold,distance:a=ve.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:r,threshold:c,distance:a},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(Pe).filter((e=>e&&!!e.trim())),i=[];for(let e=0,s=n.length;e<s;e+=1){const s=n[e];let o=!1,r=-1;for(;!o&&++r<Oe;){const e=Le[r];let n=e.isMultiMatch(s);n&&(i.push(new e(n,t)),o=!0)}if(!o)for(r=-1;++r<Oe;){const e=Le[r];let n=e.isSingleMatch(s);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,o=[],r=0;for(let i=0,c=t.length;i<c;i+=1){const c=t[i];o.length=0,s=0;for(let t=0,i=c.length;t<i;t+=1){const i=c[t],{isMatch:a,indices:l,score:h}=i.search(e);if(!a){r=0,s=0,o.length=0;break}if(s+=1,r+=h,n){const e=i.constructor.type;Te.has(e)?o=[...o,...l]:o.push(l)}}if(s){let e={isMatch:!0,score:r/s};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}});var Ke=function(){function e(e){this._haystack=[],this._fuseOptions=i(i({},e.fuseOptions),{keys:s([],e.searchFields,!0),includeMatches:!0})}return e.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},e.prototype.reset=function(){this._haystack=[],this._fuse=void 0},e.prototype.isEmptyIndex=function(){return!this._haystack.length},e.prototype.search=function(e){return this._fuse||(this._fuse=new Re(this._haystack,this._fuseOptions)),this._fuse.search(e).map((function(e,t){return{item:e.item,score:e.score||0,rank:t+1}}))},e}(),Ve=function(e,t,n){var i=e.dataset,s=t.customProperties,o=t.labelClass,r=t.labelDescription;o&&(i.labelClass=T(o).join(" ")),r&&(i.labelDescription=r),n&&s&&("string"==typeof s?i.customProperties=s:"object"!=typeof s||function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(s)||(i.customProperties=JSON.stringify(s)))},Qe=function(e,t,n){var i=t&&e.querySelector("label[for='".concat(t,"']")),s=i&&i.innerText;s&&n.setAttribute("aria-label",s)},Ue={containerOuter:function(e,t,n,i,s,o,r){var c=e.classNames.containerOuter,a=document.createElement("div");return D(a,c),a.dataset.type=o,t&&(a.dir=t),i&&(a.tabIndex=0),n&&(a.setAttribute("role",s?"combobox":"listbox"),s?a.setAttribute("aria-autocomplete","list"):r||Qe(this._docRoot,this.passedElement.element.id,a),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false")),r&&a.setAttribute("aria-labelledby",r),a},containerInner:function(e){var t=e.classNames.containerInner,n=document.createElement("div");return D(n,t),n},itemList:function(e,t){var n=e.searchEnabled,i=e.classNames,s=i.list,o=i.listSingle,r=i.listItems,c=document.createElement("div");return D(c,s),D(c,t?o:r),this._isSelectElement&&n&&c.setAttribute("role","listbox"),c},placeholder:function(e,t){var n=e.allowHTML,i=e.classNames.placeholder,s=document.createElement("div");return D(s,i),O(s,n,t),s},item:function(e,t,n){var i=e.allowHTML,s=e.removeItemButtonAlignLeft,o=e.removeItemIconText,r=e.removeItemLabelText,c=e.classNames,a=c.item,l=c.button,h=c.highlightedState,d=c.itemSelectable,u=c.placeholder,p=j(t.value),m=document.createElement("div");if(D(m,a),t.labelClass){var f=document.createElement("span");O(f,i,t.label),D(f,t.labelClass),m.appendChild(f)}else O(m,i,t.label);if(m.dataset.item="",m.dataset.id=t.id,m.dataset.value=p,Ve(m,t,!0),(t.disabled||this.containerOuter.isDisabled)&&m.setAttribute("aria-disabled","true"),this._isSelectElement&&(m.setAttribute("aria-selected","true"),m.setAttribute("role","option")),t.placeholder&&(D(m,u),m.dataset.placeholder=""),D(m,t.highlighted?h:d),n){t.disabled&&M(m,d),m.dataset.deletable="";var g=document.createElement("button");g.type="button",D(g,l),O(g,!0,A(o,t.value));var _=A(r,t.value);_&&g.setAttribute("aria-label",_),g.dataset.button="",s?m.insertAdjacentElement("afterbegin",g):m.appendChild(g)}return m},choiceList:function(e,t){var n=e.classNames.list,i=document.createElement("div");return D(i,n),t||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(e,t){var n=e.allowHTML,i=e.classNames,s=i.group,o=i.groupHeading,r=i.itemDisabled,c=t.id,a=t.label,l=t.disabled,h=j(a),d=document.createElement("div");D(d,s),l&&D(d,r),d.setAttribute("role","group"),d.dataset.group="",d.dataset.id=c,d.dataset.value=h,l&&d.setAttribute("aria-disabled","true");var u=document.createElement("div");return D(u,o),O(u,n,a||""),d.appendChild(u),d},choice:function(e,t,n,i){var s=e.allowHTML,o=e.classNames,r=o.item,c=o.itemChoice,a=o.itemSelectable,l=o.selectedState,h=o.itemDisabled,d=o.description,u=o.placeholder,p=t.label,m=j(t.value),f=document.createElement("div");f.id=t.elementId,D(f,r),D(f,c),i&&"string"==typeof p&&(p=L(s,p),p={trusted:p+=" (".concat(i,")")});var g=f;if(t.labelClass){var _=document.createElement("span");O(_,s,p),D(_,t.labelClass),g=_,f.appendChild(_)}else O(f,s,p);if(t.labelDescription){var v="".concat(t.elementId,"-description");g.setAttribute("aria-describedby",v);var b=document.createElement("span");O(b,s,t.labelDescription),b.id=v,D(b,d),f.appendChild(b)}return t.selected&&D(f,l),t.placeholder&&D(f,u),f.setAttribute("role",t.group?"treeitem":"option"),f.dataset.choice="",f.dataset.id=t.id,f.dataset.value=m,n&&(f.dataset.selectText=n),t.group&&(f.dataset.groupId="".concat(t.group.id)),Ve(f,t,!1),t.disabled?(D(f,h),f.dataset.choiceDisabled="",f.setAttribute("aria-disabled","true")):(D(f,a),f.dataset.choiceSelectable=""),f},input:function(e,t){var n=e.classNames,i=n.input,s=n.inputCloned,o=e.labelId,r=document.createElement("input");return r.type="search",D(r,i),D(r,s),r.autocomplete="off",r.autocapitalize="off",r.spellcheck=!1,r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),t?r.setAttribute("aria-label",t):o||Qe(this._docRoot,this.passedElement.element.id,r),r},dropdown:function(e){var t=e.classNames,n=t.list,i=t.listDropdown,s=document.createElement("div");return D(s,n),D(s,i),s.setAttribute("aria-expanded","false"),s},notice:function(e,t,n){var i=e.classNames,s=i.item,o=i.itemChoice,r=i.addChoice,c=i.noResults,a=i.noChoices,l=i.notice;void 0===n&&(n="");var h=document.createElement("div");switch(O(h,!0,t),D(h,s),D(h,o),D(h,l),n){case te:D(h,r);break;case ee:D(h,c);break;case Z:D(h,a)}return n===te&&(h.dataset.choiceSelectable="",h.dataset.choice=""),h},option:function(e){var t=j(e.label),n=new Option(t,e.value,!1,e.selected);return Ve(n,e,!0),n.disabled=e.disabled,e.selected&&n.setAttribute("selected",""),n}},Ge="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,ze={},Xe=function(e){if(e)return e.dataset.id?parseInt(e.dataset.id,10):void 0},Ye="[data-choice-selectable]",Je=function(){function e(t,n){void 0===t&&(t="[data-choice]"),void 0===n&&(n={});var s=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var o=e.defaults;this.config=i(i(i({},o.allOptions),o.options),n),v.forEach((function(e){s.config[e]=i(i(i({},o.allOptions[e]),o.options[e]),n[e])}));var r=this.config;r.silent||this._validateConfig();var c=r.shadowRoot||document.documentElement;this._docRoot=c;var a="string"==typeof t?c.querySelector(t):t;if(!a||"object"!=typeof a||"INPUT"!==a.tagName&&!U(a)){if(!a&&"string"==typeof t)throw TypeError("Selector ".concat(t," failed to find an element"));throw TypeError("Expected one of the following types text|select-one|select-multiple")}var l=a.type,h="text"===l;(h||1!==r.maxItemCount)&&(r.singleModeForMultiSelect=!1),r.singleModeForMultiSelect&&(l=y);var d=l===b,u=l===y,p=d||u;if(this._elementType=l,this._isTextElement=h,this._isSelectOneElement=d,this._isSelectMultipleElement=u,this._isSelectElement=d||u,this._canAddUserChoices=h&&r.addItems||p&&r.addChoices,"boolean"!=typeof r.renderSelectedChoices&&(r.renderSelectedChoices="always"===r.renderSelectedChoices||d),"auto"===r.closeDropdownOnSelect?r.closeDropdownOnSelect=h||d||r.singleModeForMultiSelect:r.closeDropdownOnSelect=K(r.closeDropdownOnSelect),r.placeholder&&(r.placeholderValue?this._hasNonChoicePlaceholder=!0:a.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,r.placeholderValue=a.dataset.placeholder)),n.addItemFilter&&"function"!=typeof n.addItemFilter){var m=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);r.addItemFilter=m.test.bind(m)}if(this._isTextElement)this.passedElement=new R({element:a,classNames:r.classNames});else{var f=a;this.passedElement=new G({element:f,classNames:r.classNames,template:function(e){return s._templates.option(e)},extractPlaceholder:r.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new J(r),this._currentValue="",r.searchEnabled=!h&&r.searchEnabled||u,this._canSearch=r.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(e){var t=e.id||e.name&&"".concat(e.name,"-").concat(E(2))||E(4);return t=t.replace(/(:|\.|\[|\]|,)/g,""),"".concat("choices-","-").concat(t)}(a),this._direction=a.dir,!this._direction){var g=window.getComputedStyle(a).direction;g!==window.getComputedStyle(document.documentElement).direction&&(this._direction=g)}if(this._idNames={itemChoice:"item-choice"},this._templates=o.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return r.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),this.initialised=!0,void(this.initialisedOK=!1);this.init(),this._initialItems=this._store.items.map((function(e){return e.value}))}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return ze},get allOptions(){return z},get templates(){return Ue}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised&&void 0===this.initialisedOK){var e;this._searcher=(e=this.config,new Ke(e)),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var t=this.config.callbackOnInit;"function"==typeof t&&t.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=e.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=this._store.items.find((function(t){return t.id===e.id}));return!n||n.highlighted||(this._store.dispatch(x(n,!0)),t&&this.passedElement.triggerEvent(_,this._getChoiceForOutput(n))),this},e.prototype.unhighlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=this._store.items.find((function(t){return t.id===e.id}));return n&&n.highlighted?(this._store.dispatch(x(n,!1)),t&&this.passedElement.triggerEvent("unhighlightItem",this._getChoiceForOutput(n)),this):this},e.prototype.highlightAll=function(){var e=this;return this._store.withTxn((function(){e._store.items.forEach((function(t){t.highlighted||(e._store.dispatch(x(t,!0)),e.passedElement.triggerEvent(_,e._getChoiceForOutput(t)))}))})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn((function(){e._store.items.forEach((function(t){t.highlighted&&(e._store.dispatch(x(t,!1)),e.passedElement.triggerEvent(_,e._getChoiceForOutput(t)))}))})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn((function(){t._store.items.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)}))})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn((function(){t._store.items.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)}))})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.withTxn((function(){t._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)}))})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame((function(){t.dropdown.show();var n=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(n.bottom,n.height),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent("showDropdown")})),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent("hideDropdown")})),this):this},e.prototype.getValue=function(e){var t=this,n=this._store.items.map((function(n){return e?n.value:t._getChoiceForOutput(n)}));return this._isSelectOneElement||this.config.singleModeForMultiSelect?n[0]:n},e.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn((function(){e.forEach((function(e){e&&t._addChoice(Q(e,!1))}))})),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},e.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?(this._isTextElement||(this._store.withTxn((function(){(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),t.unhighlightAll()})),this._searcher.reset()),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},e.prototype.setChoices=function(e,t,n,s,o){var r=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===s&&(s=!1),void 0===o&&(o=!0),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(s&&this.clearChoices(),"function"==typeof e){var c=e(this);if("function"==typeof Promise&&c instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return r._handleLoadingState(!0)})).then((function(){return c})).then((function(e){return r.setChoices(e,t,n,s)})).catch((function(e){r.config.silent||console.error(e)})).then((function(){return r._handleLoadingState(!1)})).then((function(){return r}));if(!Array.isArray(c))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof c));return this.setChoices(c,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn((function(){o&&(r._isSearching=!1);var s="value"===t,c="label"===n;e.forEach((function(e){if("choices"in e){var o=e;c||(o=i(i({},o),{label:o[n]})),r._addGroup(Q(o,!0))}else{var a=e;c&&s||(a=i(i({},a),{value:a[t],label:a[n]})),r._addChoice(Q(a,!1))}})),r.unhighlightAll()})),this._searcher.reset(),this},e.prototype.refresh=function(e,t,n){var i=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1),this._isSelectElement?(this._store.withTxn((function(){var s=i.passedElement.optionsAsChoices(),o={};n||i._store.items.forEach((function(e){e.id&&e.active&&e.selected&&!e.disabled&&(o[e.value]=!0)})),i.clearStore(!1);var r=function(e){n?i._store.dispatch(C(e)):o[e.value]&&(e.selected=!0)};s.forEach((function(e){"choices"in e?e.choices.forEach(r):r(e)})),i._addPredefinedChoices(s,t,e),i._isSearching&&i._searchChoices(i.input.value)})),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},e.prototype.removeChoice=function(e){var t=this._store.choices.find((function(t){return t.value===e}));return t?(this._clearNotice(),this._store.dispatch(w(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(g,this._getChoiceForOutput(t)),this):this},e.prototype.clearChoices=function(){var e=this;return this._store.withTxn((function(){e._store.choices.forEach((function(t){t.selected||e._store.dispatch(w(t))}))})),this._searcher.reset(),this},e.prototype.clearStore=function(e){return void 0===e&&(e=!0),this._stopSearch(),e&&this.passedElement.element.replaceChildren(""),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},e.prototype._validateConfig=function(){var e,t,n,i,s=this.config,o=(e=s,t=z,n=Object.keys(e).sort(),i=Object.keys(t).sort(),n.filter((function(e){return i.indexOf(e)<0})));o.length&&console.warn("Unknown config option(s) passed",o.join(", ")),s.allowHTML&&s.allowHtmlUserInput&&(s.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),s.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},e.prototype._render=function(e){void 0===e&&(e={choices:!0,groups:!0,items:!0}),this._store.inTxn()||(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},e.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var t=this.config,n=this._isSearching,i=this._store,s=i.activeGroups,o=i.activeChoices,r=0;if(n&&t.searchResultLimit>0?r=t.searchResultLimit:t.renderChoiceLimit>0&&(r=t.renderChoiceLimit),this._isSelectElement){var c=o.filter((function(e){return!e.element}));c.length&&this.passedElement.addOptions(c)}var a=document.createDocumentFragment(),l=function(e){return e.filter((function(e){return!e.placeholder&&(n?!!e.rank:t.renderSelectedChoices||!e.selected)}))},h=!1,d=function(i,s,o){n?i.sort(P):t.shouldSort&&i.sort(t.sorter);var c=i.length;c=!s&&r&&c>r?r:c,c--,i.every((function(i,s){var r=i.choiceEl||e._templates.choice(t,i,t.itemSelectText,o);return i.choiceEl=r,a.appendChild(r),i.disabled||!n&&i.selected||(h=!0),s<c}))};o.length&&(t.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),this._hasNonChoicePlaceholder||n||!this._isSelectOneElement||d(o.filter((function(e){return e.placeholder&&!e.group})),!1,void 0),s.length&&!n?(t.shouldSort&&s.sort(t.sorter),d(o.filter((function(e){return!e.placeholder&&!e.group})),!1,void 0),s.forEach((function(i){var s=l(i.choices);if(s.length){if(i.label){var o=i.groupEl||e._templates.choiceGroup(e.config,i);i.groupEl=o,o.remove(),a.appendChild(o)}d(s,!0,t.appendGroupInSearch&&n?i.label:void 0)}}))):d(l(o),!1,void 0)),h||(this._notice||(this._notice={text:I(n?t.noResultsText:t.noChoicesText),type:n?ee:Z}),a.replaceChildren("")),this._renderNotice(a),this.choiceList.element.replaceChildren(a),h&&this._highlightChoice()}},e.prototype._renderItems=function(){var e=this,t=this._store.items||[],n=this.itemList.element,i=this.config,s=document.createDocumentFragment(),o=function(e){return n.querySelector('[data-item][data-id="'.concat(e.id,'"]'))},r=function(t){var n=t.itemEl;n&&n.parentElement||(n=o(t)||e._templates.item(i,t,i.removeItemButton),t.itemEl=n,s.appendChild(n))};t.forEach(r);var c=!!s.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var a=n.children.length;if(c||a>1){var l=n.querySelector($(i.classNames.placeholder));l&&l.remove()}else a||(c=!0,r(Q({selected:!0,value:"",label:i.placeholderValue||"",placeholder:!0},!1)))}c&&(n.append(s),i.shouldSortItems&&!this._isSelectOneElement&&(t.sort(i.sorter),t.forEach((function(e){var t=o(e);t&&(t.remove(),s.append(t))})),n.append(s))),this._isTextElement&&(this.passedElement.value=t.map((function(e){return e.value})).join(i.delimiter))},e.prototype._displayNotice=function(e,t,n){void 0===n&&(n=!0);var i=this._notice;i&&(i.type===t&&i.text===e||i.type===te&&(t===ee||t===Z))?n&&this.showDropdown(!0):(this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),n&&e&&this.showDropdown(!0))},e.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector($(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},e.prototype._renderNotice=function(e){var t=this._notice;if(t){var n=this._templates.notice(this.config,t.text,t.type);e?e.append(n):this.choiceList.prepend(n)}},e.prototype._getChoiceForOutput=function(e,t){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:t}},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent("change",{value:e})},e.prototype._handleButtonAction=function(e){var t=this,n=this._store.items;if(n.length&&this.config.removeItems&&this.config.removeItemButton){var i=e&&Xe(e.parentElement),s=i&&n.find((function(e){return e.id===i}));s&&this._store.withTxn((function(){if(t._removeItem(s),t._triggerChange(s.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var e=t._store.choices.reverse().find((function(e){return!e.disabled&&e.placeholder}));e&&(t._addItem(e),t.unhighlightAll(),e.value&&t._triggerChange(e.value))}}))}},e.prototype._handleItemAction=function(e,t){var n=this;void 0===t&&(t=!1);var i=this._store.items;if(i.length&&this.config.removeItems&&!this._isSelectOneElement){var s=Xe(e);s&&(i.forEach((function(e){e.id!==s||e.highlighted?!t&&e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)})),this.input.focus())}},e.prototype._handleChoiceAction=function(e){var t=this,n=Xe(e),i=n&&this._store.getChoiceById(n);if(!i||i.disabled)return!1;var s=this.dropdown.isActive;if(!i.selected){if(!this._canAddItems())return!0;this._store.withTxn((function(){t._addItem(i,!0,!0),t.clearInput(),t.unhighlightAll()})),this._triggerChange(i.value)}return s&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},e.prototype._handleBackspace=function(e){var t=this.config;if(t.removeItems&&e.length){var n=e[e.length-1],i=e.some((function(e){return e.highlighted}));t.editItems&&!i&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(i||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},e.prototype._loadChoices=function(){var e,t=this.config;if(this._isTextElement){if(this._presetChoices=t.items.map((function(e){return Q(e,!1)})),this.passedElement.value){var n=this.passedElement.value.split(t.delimiter).map((function(e){return Q(e,!1)}));this._presetChoices=this._presetChoices.concat(n)}this._presetChoices.forEach((function(e){e.selected=!0}))}else if(this._isSelectElement){this._presetChoices=t.choices.map((function(e){return Q(e,!0)}));var i=this.passedElement.optionsAsChoices();i&&(e=this._presetChoices).push.apply(e,i)}},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed)if(null!=e&&e.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(e):0;null!==t&&this.passedElement.triggerEvent(f,{value:e,resultCount:t})}else this._store.choices.some((function(e){return!e.active}))&&this._stopSearch()},e.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,n=e.maxItemText;return!(!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length&&(this.choiceList.element.replaceChildren(""),this._displayNotice("function"==typeof n?n(t):n,te),1))},e.prototype._canCreateItem=function(e){var t=this.config,n=!0,i="";if(n&&"function"==typeof t.addItemFilter&&!t.addItemFilter(e)&&(n=!1,i=A(t.customAddItemText,e)),n){var s=this._store.choices.find((function(n){return t.valueComparer(n.value,e)}));if(this._isSelectElement){if(s)return this._displayNotice("",te),!1}else this._isTextElement&&!t.duplicateItemsAllowed&&s&&(n=!1,i=A(t.uniqueItemText,e))}return n&&(i=A(t.addItemText,e)),i&&this._displayNotice(i,te),n},e.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var n=this._searcher;n.isEmptyIndex()&&n.index(this._store.searchableChoices);var i=n.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var s=this._notice;return(s&&s.type)!==te&&(i.length?this._clearNotice():this._displayNotice(I(this.config.noResultsText),ee)),this._store.dispatch(function(e){return{type:a,results:e}}(i)),i.length},e.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch({type:l,active:!0}),this.passedElement.triggerEvent(f,{value:"",resultCount:0}))},e.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),n.addEventListener("keyup",this._onKeyUp,{passive:!0}),n.addEventListener("input",this._onInput,{passive:!0}),n.addEventListener("focus",this._onFocus,{passive:!0}),n.addEventListener("blur",this._onBlur,{passive:!0}),n.form&&n.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),n.removeEventListener("keyup",this._onKeyUp),n.removeEventListener("input",this._onInput),n.removeEventListener("focus",this._onFocus),n.removeEventListener("blur",this._onBlur),n.form&&n.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this.dropdown.isActive,i=1===e.key.length||2===e.key.length&&e.key.charCodeAt(0)>=55296||"Unidentified"===e.key;switch(this._isTextElement||n||(this.showDropdown(),!this.input.isFocussed&&i&&(this.input.value+=e.key," "===e.key&&e.preventDefault())),t){case 65:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(e,n);case 27:return this._onEscapeKey(e,n);case 38:case 33:case 40:case 34:return this._onDirectionKey(e,n);case 8:case 46:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},e.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},e.prototype._onInput=function(){var e=this.input.value;e?this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice()))):this._isTextElement?this.hideDropdown(!0):this._stopSearch()},e.prototype._onSelectKey=function(e,t){(e.ctrlKey||e.metaKey)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t){var n=this,i=this.input.value,s=e.target;if(e.preventDefault(),s&&s.hasAttribute("data-button"))this._handleButtonAction(s);else if(t){var o=this.dropdown.element.querySelector($(this.config.classNames.highlightedState));if(!o||!this._handleChoiceAction(o))if(s&&i){if(this._canAddItems()){var r=!1;this._store.withTxn((function(){if(!(r=n._findAndSelectChoiceByValue(i,!0))){if(!n._canAddUserChoices)return;if(!n._canCreateItem(i))return;var e=S(i),t=n.config.allowHtmlUserInput||e===i?i:{escaped:e,raw:i};n._addChoice(Q({value:t,label:t,selected:!0},!1),!0,!0),r=!0}n.clearInput(),n.unhighlightAll()})),r&&(this._triggerChange(i),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}else this.hideDropdown(!0)}else(this._isSelectElement||this._notice)&&this.showDropdown()},e.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},e.prototype._onDirectionKey=function(e,t){var n,i,s,o=e.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var r=40===o||34===o?1:-1,c=void 0;if(e.metaKey||34===o||33===o)c=r>0?this.dropdown.element.querySelector("".concat(Ye,":last-of-type")):this.dropdown.element.querySelector(Ye);else{var a=this.dropdown.element.querySelector($(this.config.classNames.highlightedState));c=a?function(e,t,n){void 0===n&&(n=1);for(var i="".concat(n>0?"next":"previous","ElementSibling"),s=e[i];s;){if(s.matches(t))return s;s=s[i]}return null}(a,Ye,r):this.dropdown.element.querySelector(Ye)}c&&(n=c,i=this.choiceList.element,void 0===(s=r)&&(s=1),(s>0?i.scrollTop+i.offsetHeight>=n.offsetTop+n.offsetHeight:n.offsetTop>=i.scrollTop)||this.choiceList.scrollToChildElement(c,r),this._highlightChoice(c)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){this._isSelectOneElement||e.target.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(Ge&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild;this._isScrollingOnIe="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft}if(t!==this.input.element){var i=t.closest("[data-button],[data-item],[data-choice]");i instanceof HTMLElement&&("button"in i.dataset?this._handleButtonAction(i):"item"in i.dataset?this._handleItemAction(i,e.shiftKey):"choice"in i.dataset&&this._handleChoiceAction(i)),e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target,n=this.containerOuter;n.element.contains(t)?this.dropdown.isActive||n.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),n.element.focus()):(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},e.prototype._onFocus=function(e){var t=e.target,n=this.containerOuter;if(t&&n.element.contains(t)){var i=t===this.input.element;this._isTextElement?i&&n.addFocusState():this._isSelectMultipleElement?i&&(this.showDropdown(!0),n.addFocusState()):(n.addFocusState(),i&&this.showDropdown(!0))}},e.prototype._onBlur=function(e){var t=e.target,n=this.containerOuter;if(t&&n.element.contains(t)&&!this._isScrollingOnIe){var i=t===this.input.element;this._isTextElement||this._isSelectMultipleElement?i&&(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll()):(n.removeFocusState(),(i||t===n.element&&!this._canSearch)&&this.hideDropdown(!0))}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){var e=this;this._store.withTxn((function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)}))},e.prototype._highlightChoice=function(e){void 0===e&&(e=null);var t=Array.from(this.dropdown.element.querySelectorAll(Ye));if(t.length){var n=e,i=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll($(i))).forEach((function(e){M(e,i),e.setAttribute("aria-selected","false")})),n?this._highlightPosition=t.indexOf(n):(n=t.length>this._highlightPosition?t[this._highlightPosition]:t[t.length-1])||(n=t[0]),D(n,i),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent("highlightChoice",{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},e.prototype._addItem=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),!e.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(function(e){return{type:u,item:e}}(e)),t&&(this.passedElement.triggerEvent("addItem",this._getChoiceForOutput(e)),n&&this.passedElement.triggerEvent("choice",this._getChoiceForOutput(e)))},e.prototype._removeItem=function(e){e.id&&(this._store.dispatch(C(e)),this.passedElement.triggerEvent(g,this._getChoiceForOutput(e)))},e.prototype._addChoice=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");var i=this.config;if(!this._isSelectElement&&i.duplicateItemsAllowed||!this._store.choices.find((function(t){return i.valueComparer(t.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var s=i.prependValue,o=i.appendValue;s&&(e.value=s+e.value),o&&(e.value+=o.toString()),(s||o)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(function(e){return{type:r,choice:e}}(e)),e.selected&&this._addItem(e,t,n)}},e.prototype._addGroup=function(e,t){var n=this;if(void 0===t&&(t=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(function(e){return{type:d,group:e}}(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach((function(i){i.group=e,e.disabled&&(i.disabled=!0),n._addChoice(i,t)})))},e.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,n={};"function"==typeof t&&(n=t.call(this,k,L,T));var i={};Object.keys(this._templates).forEach((function(t){i[t]=t in n?n[t].bind(e):e._templates[t].bind(e)})),this._templates=i},e.prototype._createElements=function(){var e=this._templates,t=this.config,n=this._isSelectOneElement,i=t.position,s=t.classNames,o=this._elementType;this.containerOuter=new N({element:e.containerOuter(t,this._direction,this._isSelectElement,n,t.searchEnabled,o,t.labelId),classNames:s,type:o,position:i}),this.containerInner=new N({element:e.containerInner(t),classNames:s,type:o,position:i}),this.input=new q({element:e.input(t,this._placeholderValue),classNames:s,type:o,preventPaste:!t.paste}),this.choiceList=new W({element:e.choiceList(t,n)}),this.itemList=new W({element:e.itemList(t,n)}),this.dropdown=new B({element:e.dropdown(t),classNames:s,type:o})},e.prototype._createStructure=function(){var e=this,t=e.containerInner,n=e.containerOuter,i=e.passedElement,s=this.dropdown.element;i.conceal(),t.wrap(i.element),n.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),n.element.appendChild(t.element),n.element.appendChild(s),t.element.appendChild(this.itemList.element),s.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&s.insertBefore(this.input.element,s.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},e.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn((function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)})),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},e.prototype._addPredefinedChoices=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!0),t&&-1===e.findIndex((function(e){return e.selected}))&&e.some((function(e){return!e.disabled&&!("choices"in e)&&(e.selected=!0,!0)})),e.forEach((function(e){"choices"in e?i._isSelectElement&&i._addGroup(e,n):i._addChoice(e,n)}))},e.prototype._findAndSelectChoiceByValue=function(e,t){var n=this;void 0===t&&(t=!1);var i=this._store.choices.find((function(t){return n.config.valueComparer(t.value,e)}));return!(!i||i.disabled||i.selected||(this._addItem(i,!0,t),0))},e.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},e.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent){if(!this.initialised)throw new TypeError("".concat(e," called on a non-initialised instance of Choices"));if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}},e.version="11.0.2",e}();jQuery((function(e){window.wpconsent_choices={},document.querySelectorAll(".wpconsent-choices").forEach((t=>{const n=new Je(t,{removeItemButton:"false"!==t.dataset.removeItem,searchEnabled:"true"===t.dataset.search,placeholder:!0,placeholderValue:t.dataset.placeholder||"Select an option"});if(t.id&&(window.wpconsent_choices[t.id]=n),"true"===t.dataset.ajax){const i=t.dataset.ajaxAction||"wpconsent_search_pages";n.passedElement.element.addEventListener("search",(e=>{let t=null;return(...n)=>{clearTimeout(t),t=setTimeout((()=>{e.apply(null,n)}),300)}})((t=>{const s=t.detail.value;!s||s.length<3||e.ajax({url:ajaxurl,type:"POST",data:{action:i,nonce:wpconsent.nonce,search:s},success:function(e){if(e.success&&e.data){const t=e.data.map((e=>({value:e.value,label:e.label})));n.setChoices(t,"value","label",!0)}}})})))}}))})),n(254),n(759),n(708),n(209),n(332),n(609),n(7),n(425),n(766),jQuery((function(e){const t=t=>{const n=[...new Set(t)];e.ajax({url:ajaxurl,type:"POST",data:{action:"wpconsent_save_scanner_items",nonce:wpconsent.nonce,items:n},success:function(e){e.success||console.error("Failed to save scanner items:",e.data)},error:function(e,t,n){console.error("Error saving scanner items:",n)}})},n=(e,n)=>{e.remove();const i=document.querySelector(".wpconsent-scanner-selected-items-container"),s=Array.from(i.querySelectorAll('input[name="scanner_items[]"]')).map((e=>parseInt(e.value))).filter((e=>e!==parseInt(n)));t(s)},i=document.querySelector("#manual-scanner-page");if(!i)return;let s;if(window.wpconsent_choices?.[i.id])s=window.wpconsent_choices[i.id];else{if(i.classList.contains("choices__input"))return;s=new Je(i,{removeItemButton:!0,searchEnabled:!0,placeholder:!0,placeholderValue:i.dataset.placeholder,searchPlaceholderValue:i.dataset.placeholder,searchResultLimit:10,shouldSort:!1,classNames:{containerOuter:"choices wpconsent-choices"}}),i.id&&(window.wpconsent_choices=window.wpconsent_choices||{},window.wpconsent_choices[i.id]=s)}s.passedElement.element.addEventListener("change",(function(){const e=s.getValue(!0);if(!e)return;const i=s.passedElement.element.querySelector(`option[value="${e}"]`);if(!i)return;const o=i.textContent,r=JSON.parse(i.getAttribute("data-custom-properties")||"{}"),c=i.getAttribute("data-url")||r.url,a=`\n        <div class="wpconsent-scanner-selected-item" id="scanner-item-${l=e}">\n            <div class="wpconsent-scanner-selected-item-info">\n                <h3>${o}</h3>\n                ${(h=c)?`\n                    <a href="${h}" target="_blank" rel="noopener noreferrer">\n                        ${new URL(h).pathname}\n                    </a>\n                `:""}\n            </div>\n            <button type="button" class="wpconsent-remove-item" data-id="${l}">\n                <span class="dashicons dashicons-no-alt"></span>\n            </button>\n            <input type="hidden" name="scanner_items[]" value="${l}">\n        </div>\n    `;var l,h;const d=document.querySelector(".wpconsent-scanner-selected-items-container");if(d){const i=document.createElement("div");i.innerHTML=a;const s=i.firstElementChild;d.appendChild(s),s.querySelector(".wpconsent-remove-item").addEventListener("click",(()=>n(s,e)));const o=Array.from(d.querySelectorAll('input[name="scanner_items[]"]')).map((e=>parseInt(e.value)));t(o)}})),document.querySelectorAll(".wpconsent-remove-item").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-id"),t=document.getElementById(`scanner-item-${e}`);t&&n(t,e)}))})),"true"!==i.dataset.ajax&&i.addEventListener("search",(e=>{let t=null;return(...n)=>{clearTimeout(t),t=setTimeout((()=>{e.apply(null,n)}),300)}})((t=>{const n=t.detail.value;!n||n.length<3||(s.setChoices([{value:"",label:wpconsent.searching||"Searching...",disabled:!0}],"value","label",!0),e.ajax({url:ajaxurl,type:"POST",data:{action:i.dataset.ajaxAction||"wpconsent_search_content",nonce:wpconsent.nonce,search:n},success:function(e){if(e.success&&e.data){const t=e.data.map((e=>({value:e.value,label:e.label,customProperties:{url:e.url||""}})));s.setChoices(t,"value","label",!0)}},error:function(e,t,n){console.error("Error searching content:",n),s.setChoices([{value:"",label:"Error searching content",disabled:!0}],"value","label",!0)}}))})))})),n(302),n(342)})()})();